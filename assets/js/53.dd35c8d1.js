(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{413:function(t,a,r){"use strict";r.r(a);var e=r(42),s=Object(e.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"jvm에서-thread-dump-가져오기"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#jvm에서-thread-dump-가져오기"}},[t._v("#")]),t._v(" JVM에서 thread dump 가져오기")]),t._v(" "),r("p",[t._v("장애상황 : 쉘스크립트로 전체 서버의 프로세스를 내리는 작업을 진행하던 중 스크립트가 멈춤\n원인 : 서버의 응답이 없었음, 해당 서버에 접속해서 로그를 확인했을 때 딱히 문제는 없어 보였으나 스레드 덤프를 뜬 파일을 보니 문제 발생 -> 서버 로드 증가 -> 모든 프로세스가 응답 시간이 느려지다 못해 대답을 못함 -> 행업 임으로 추측이 됨")]),t._v(" "),r("p",[t._v("이러한 경우 쓰레드 덤프를 떠서 확인해보라는 키워드를 받아 트러블 슈팅한 내용을 기록한다.")]),t._v(" "),r("br"),t._v(" "),r("h3",{attrs:{id:"스레드-덤프를-추출해보면-좋을-상황"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#스레드-덤프를-추출해보면-좋을-상황"}},[t._v("#")]),t._v(" 스레드 덤프를 추출해보면 좋을 상황")]),t._v(" "),r("ul",[r("li",[t._v("모든 시스템에 응답이 없을 때")]),t._v(" "),r("li",[t._v("사용자 수가 많지 않은데 CPU사용량이 높을때")]),t._v(" "),r("li",[t._v("특정어플리케이션 수행 시 응답이 없을때")]),t._v(" "),r("li",[t._v("간헐적으로 응답이 느릴때")]),t._v(" "),r("li",[t._v("서비스 실행시간이 길어질수록 응답시간이나 cpu 사용량이 늘어날 때")]),t._v(" "),r("li",[t._v("등등")])]),t._v(" "),r("br"),t._v(" "),r("h3",{attrs:{id:"스레드-덤프를-추출하는-방법"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#스레드-덤프를-추출하는-방법"}},[t._v("#")]),t._v(" 스레드 덤프를 추출하는 방법")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("OS 단에서\n\t리눅스 : kill -3 [PID]\njava단에서 \n\tjps -v 로 java 프로세스 확인\n\t- jstack [PID] (jstack으로 반응이 없는 경우 –F 옵션)\n\t- jcmd [PID] Thread.print (jdk7 이후 등장)\n\t\tjcmd [PID] help 로 명령어 확인 가능, 직관적임\n")])])]),r("br"),t._v(" "),r("h3",{attrs:{id:"스레드-덤프-읽기"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#스레드-덤프-읽기"}},[t._v("#")]),t._v(" 스레드 덤프 읽기")]),t._v(" "),r("p",[t._v("스레드 덤프를 그대로 읽기는 어렵다.\n스레드 덤프를 파일로 저장하여 시각화 시켜주는 사이트를 사용하는 것이 더욱 용이\neg) "),r("a",{attrs:{href:"http://fastthread.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM Thread dump analyzer - Universal Java Thread dump analysis"),r("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);