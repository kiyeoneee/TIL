(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{355:function(a,t,s){a.exports=s.p+"assets/img/image-20200507121346145.f6d20a28.png"},410:function(a,t,s){"use strict";s.r(t);var n=s(42),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:"trouble-shooting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#trouble-shooting"}},[a._v("#")]),a._v(" Trouble Shooting")]),a._v(" "),n("h3",{attrs:{id:"java-버전-issue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#java-버전-issue"}},[a._v("#")]),a._v(" Java 버전 Issue")]),a._v(" "),n("p",[a._v("실행 시 아래와 같은 자바 버전 관련 이슈가 있었다.")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("WrapperSimpleApp: Encountered an error running main: java.lang.IllegalStateException: SonarQube requires Java "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(" to run\njava.lang.IllegalStateException: SonarQube requires Java "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(" to run\n        at com.google.common.base.Preconditions.checkState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Preconditions.java:508"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at org.sonar.application.App.checkJavaVersion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("App.java:94"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at org.sonar.application.App.start"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("App.java:57"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at org.sonar.application.App.main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("App.java:98"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at sun.reflect.NativeMethodAccessorImpl.invoke0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Native Method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at sun.reflect.NativeMethodAccessorImpl.invoke"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NativeMethodAccessorImpl.java:62"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DelegatingMethodAccessorImpl.java:43"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at java.lang.reflect.Method.invoke"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Method.java:498"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at org.tanukisoftware.wrapper.WrapperSimpleApp.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WrapperSimpleApp.java:240"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        at java.lang.Thread.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Thread.java:745"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("-- Wrapper Stopped\n")])])]),n("p",[a._v("소나큐브 설치 당시 가장 최신버전인 "),n("code",[a._v("sonarqube-8.3.0.34182")]),a._v("을 다운받아서 세팅하는 과정에 발생 한 버그다."),n("br"),a._v("\nSonarQube는 내부적으로 검색을 위해 사용하는 ElasticSearch가 Java11 이상의 버전이 필요한데 현재 사용중인 서버에서는 Java8을 사용중이어서 발생하는 이슈이다."),n("br"),a._v("\n서버 전체의 자바 버전을 업그레이드 하기에는 서버에서 구동중인 서비스들이 있어서 Java11을 설치 한 뒤 설정파일에서 path를 변경하는 방법으로 이슈를 해결했다.")]),a._v(" "),n("h4",{attrs:{id:"해결-방법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#해결-방법"}},[a._v("#")]),a._v(" 해결 방법")]),a._v(" "),n("blockquote",[n("ol",[n("li",[n("p",[a._v("Java 11 설치 및 압축 해제")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("Java11_directory_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -O https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf openjdk-11.0.2_linux-x64_bin.tar.gz\n")])])])]),a._v(" "),n("li",[n("p",[a._v("SonarQube 설정 내 Java 경로 변경")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("SonqrQube_path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("/sonarqube-8.3.0.34182/conf\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" wrapper.conf\n")])])]),n("p",[a._v("가장 상단의 wrapper.java.command 값을 "),n("code",[a._v("{Java11_directory_path}/jdk-{버전}/bin/java")]),a._v("으로 변경 해 준다.")]),a._v(" "),n("p",[n("img",{attrs:{src:s(355),alt:"image-20200507121346145"}})])])])]),a._v(" "),n("br"),a._v(" "),n("h3",{attrs:{id:"elasticsearch-vm-max-map-count-이슈"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-vm-max-map-count-이슈"}},[a._v("#")]),a._v(" Elasticsearch vm.max_map_count 이슈")]),a._v(" "),n("p",[a._v("Elasticseasrch 5.0 이후로 인스턴스 시작 시 bootstrap 체크라는 장치가 도입되어 의도치 않은 설정 실수를 미리 확인할 수 있게 되었다."),n("br"),a._v("\nElasticsearch의 효율성을 위해 max_map_count를 최소 262144로 사용하도록 하는데, 서버 내에서는 해당 값이 65530로 설정되어 있어서 생긴 문제였다."),n("br"),a._v("\n이슈 관련 로그")]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:40 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.SchedulerImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Waiting "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" Elasticsearch to be up and running\nOpenJDK "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" version "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("9.0")]),a._v(" and will likely be removed "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" a future release.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:40 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.e.p.PluginsService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" no modules loaded\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:40 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.e.p.PluginsService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" loaded plugin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("org.elasticsearch.transport.Netty4Plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nERROR: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" bootstrap checks failed\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": max virtual memory areas vm.max_map_count "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("65530")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" is too low, increase to at least "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("262144")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": system call filters failed to "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" check the logs and fix your configuration or disable system call filters at your own risk\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:46 WARN  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.p.AbstractManagedProcess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Process exited with "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" value "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("78")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:46 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.SchedulerImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" is stopped\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:46 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.SchedulerImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" SonarQube is stopped\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("-- Wrapper Stopped\n")])])]),n("h4",{attrs:{id:"해결방법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#해결방법"}},[a._v("#")]),a._v(" 해결방법")]),a._v(" "),n("blockquote",[n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("$ sysctl -w vm.max_map_count"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("262144")]),a._v("\n$ sysctl vm.max_map_count\nvm.max_map_count "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("262144")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 정상적으로 설정된 것 ")]),a._v("\n")])])])]),a._v(" "),n("br"),a._v(" "),n("h3",{attrs:{id:"elasticsearch-데몬-실행"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-데몬-실행"}},[a._v("#")]),a._v(" Elasticsearch 데몬 실행")]),a._v(" "),n("p",[a._v("Elasticsearch를 데몬으로 실행하기 위해 System call filter check 설정이 필요한데 해당 부분에 대한 설정이 없어  bootstrap 에러가 난 것이다.")]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.06")]),a._v(".08 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(":57:07 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.SchedulerImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Waiting "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" Elasticsearch to be up and running\nOpenJDK "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" version "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("9.0")]),a._v(" and will likely be removed "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" a future release.\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.06")]),a._v(".08 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(":57:07 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.e.p.PluginsService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" no modules loaded\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.06")]),a._v(".08 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(":57:07 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.e.p.PluginsService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" loaded plugin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("org.elasticsearch.transport.Netty4Plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nERROR: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" bootstrap checks failed\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": system call filters failed to "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" check the logs and fix your configuration or disable system call filters at your own risk\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:46 WARN  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.p.AbstractManagedProcess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Process exited with "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" value "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("78")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:46 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.SchedulerImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("es"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" is stopped\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020.05")]),a._v(".06 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(":47:46 INFO  app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("o.s.a.SchedulerImpl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" SonarQube is stopped\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("-- Wrapper Stopped\n")])])]),n("h4",{attrs:{id:"해결방법-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#해결방법-2"}},[a._v("#")]),a._v(" 해결방법")]),a._v(" "),n("blockquote",[n("p",[a._v("sonarQube 디렉토리 내에 있는 elasticsearch의 config 파일을 직접 건드리면 안된다고 한다."),n("br"),a._v("\nSonarqube의 설정파일 중 Elasticsearch이 부분의 주석을 해제하고 아래와 같이 system_call_filer 설정값 부분을 수정해 준다.")]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /path/to/sonarqube\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" conf/sonar.properties\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#--------------------------------------------------------------------------------------------------")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ELASTICSEARCH")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Elasticsearch is used to facilitate fast and accurate information retrieval.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# It is executed in a dedicated Java process. Default heap size is 512MB.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# --------------------------------------------------")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Word of caution for Linux users on 64bits systems")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# --------------------------------------------------")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Please ensure Virtual Memory on your system is correctly configured for Elasticsearch to run properly")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# (see https://www.elastic.co/guide/en/elasticsearch/reference/5.5/vm-max-map-count.html for details).")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# When SonarQube runs standalone, a warning such as the following may appear in logs/es.log:")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#      "max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]"')]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# When SonarQube runs as a cluster, however, Elasticsearch will refuse to start.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# JVM options of Elasticsearch process")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#sonar.search.javaOpts=-Xmx512m -Xms512m -XX:+HeapDumpOnOutOfMemoryError")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Same as previous property, but allows to not repeat all other settings like -Xmx")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#sonar.search.javaAdditionalOpts=")]),a._v("\nsonar.search.javaAdditionalOpts"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("-Dbootstrap.system_call_filter"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("false\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Elasticsearch port. Default is 9001. Use 0 to get a free port.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# As a security precaution, should be blocked by a firewall and not exposed to the Internet.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#sonar.search.port=9001")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Elasticsearch host. The search server will bind this address and the search client will connect to it.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Default is loopback address.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# As a security precaution, should NOT be set to a publicly available address.")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#sonar.search.host=")]),a._v("\n\n")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);