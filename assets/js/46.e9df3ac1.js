(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{405:function(a,t,s){"use strict";s.r(t);var e=s(42),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"elastic-search-실행-시-메모리-이슈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elastic-search-실행-시-메모리-이슈"}},[a._v("#")]),a._v(" Elastic Search 실행 시 메모리 이슈")]),a._v(" "),s("p",[s("strong",[a._v("ElasticSearch를 올려도 자꾸 죽는 문제가 발생")]),s("br"),a._v("\n로그를 확인 해 보니 아래와 같은 로그가 발생하고 있었음")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("max virtual memory areas vm.max_map_count "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("65530")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" is too low, increase to at least "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("262144")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("br"),a._v(" "),s("h3",{attrs:{id:"해결-방법"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#해결-방법"}},[a._v("#")]),a._v(" 해결 방법")]),a._v(" "),s("p",[a._v("kibana5 버전대의 문제라고 함")]),a._v(" "),s("p",[s("strong",[a._v("max_map_count:")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("This file contains the maximum number of memory map areas a process may have. Memory map areas are used as a side-effect of calling malloc, directly by mmap and mprotect, and also when loading shared libraries.  \nWhile most applications need less than a thousand maps, certain programs, particularly malloc debuggers, may consume lots of them, e.g., up to one or two maps per allocation.  \nThe default value is 65536.\n")])])]),s("p",[a._v("vm.max_map_count 이 설정이 디폴트로 되어 있는 경우 bootstrap을 올리는데 문제가 생기기도 해서 vm.max_map_count=262144으로 /etc/sysctl.config에서 변경해 줘야 함 (모든 클러스터)")])])}),[],!1,null,null,null);t.default=r.exports}}]);