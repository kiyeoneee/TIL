(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{420:function(a,t,s){"use strict";s.r(t);var e=s(42),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"자바-orm-표준-jpa-프로그래밍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#자바-orm-표준-jpa-프로그래밍"}},[a._v("#")]),a._v(" 자바 ORM 표준 JPA 프로그래밍")]),a._v(" "),s("h1",{attrs:{id:"_0-강좌-소개"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-강좌-소개"}},[a._v("#")]),a._v(" 0. 강좌 소개")]),a._v(" "),s("h2",{attrs:{id:"jpa-java-persistence-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpa-java-persistence-api"}},[a._v("#")]),a._v(" JPA - Java Persistence API")]),a._v(" "),s("br"),a._v(" "),s("h1",{attrs:{id:"_1-jpa-소개"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-jpa-소개"}},[a._v("#")]),a._v(" 1. JPA 소개")]),a._v(" "),s("h2",{attrs:{id:"_1-sql-중심적인-개발의-문제점"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-sql-중심적인-개발의-문제점"}},[a._v("#")]),a._v(" 1. SQL 중심적인 개발의 문제점")]),a._v(" "),s("p",[a._v("객체지향 언어 + 관계형 DB"),s("br"),a._v("\n객체 CRUD (자바 객체 <-> SQL 의 무한반) - 필드 추가/변경 시에 코드에 문제가 생기는 일이 빈번"),s("br"),a._v(" "),s("strong",[a._v("SQL에 의존적인 개발을 피하기 어려움!!!")]),s("br"),a._v("\n속성과 기능을 묶어서 캡슐화 해서 쓰는게 목표인 객체 vs 데이터를 정규화해서 잘 보관하기 위한 기술인 관계형 DB - "),s("strong",[a._v("패러다임의 불일치")])]),a._v(" "),s("h3",{attrs:{id:"객체-vs-관계형-데이터베이스의-차이"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#객체-vs-관계형-데이터베이스의-차이"}},[a._v("#")]),a._v(" 객체 vs 관계형 데이터베이스의 차이")]),a._v(" "),s("ul",[s("li",[a._v("상속"),s("br"),a._v(" "),s("img",{attrs:{src:"/Users/kyeoneee/Desktop/TIL/docs/images/JPA-1-1-inheritance.png",alt:"JPA-1-inheritance"}})]),a._v(" "),s("li",[a._v("연관관계"),s("br"),a._v(" "),s("img",{attrs:{src:"/Users/kyeoneee/Desktop/TIL/docs/images/JPA-1-1-object-table-relation.png",alt:"JPA-1-object-table-relation"}}),a._v(" "),s("ul",[s("li",[a._v("객체 : "),s("strong",[a._v("참조")]),a._v(" "),s("code",[a._v("member.getTeam()")]),a._v(", Member에서 Team 참조는 가능하지만 반대는 불가")]),a._v(" "),s("li",[a._v("테이블 : "),s("strong",[a._v("외래  키")]),a._v(" "),s("code",[a._v("JOIN ON M.TEAM_ID = T.TEAM_ID")]),a._v(", Member와 Team 쌍방향으로 서로 호출 가능")])])]),a._v(" "),s("li",[a._v("데이터 타입")]),a._v(" "),s("li",[a._v("데이터 식별 방법")])]),a._v(" "),s("br"),a._v(" "),s("h2",{attrs:{id:"_2-jpa-소개"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-jpa-소개"}},[a._v("#")]),a._v(" 2. JPA 소개")]),a._v(" "),s("h3",{attrs:{id:"jpa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpa"}},[a._v("#")]),a._v(" JPA?")]),a._v(" "),s("ul",[s("li",[a._v("Java Persistence API")]),a._v(" "),s("li",[a._v("자바 진영의 ORM 기술 표준")])]),a._v(" "),s("h3",{attrs:{id:"orm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#orm"}},[a._v("#")]),a._v(" ORM?")]),a._v(" "),s("ul",[s("li",[a._v("Object-relational mapping")]),a._v(" "),s("li",[a._v("객체는 객체대로 설계하고 RDB는 RDB 대로 설계")]),a._v(" "),s("li",[a._v("ORM 프레임워크가 중간에서 매핑")]),a._v(" "),s("li",[a._v("대중적인 언어에는 대부분 ORM 기술이 존재")])]),a._v(" "),s("h3",{attrs:{id:"jpa는-애플리케이션과-jdbc-사이에서-동작"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpa는-애플리케이션과-jdbc-사이에서-동작"}},[a._v("#")]),a._v(" JPA는 애플리케이션과 JDBC 사이에서 동작")]),a._v(" "),s("p",[s("img",{attrs:{src:"/Users/kyeoneee/Desktop/TIL/docs/images/JPA-1-2-jpa-jdbc.png",alt:"JPA-1-2-jpa-jdbc"}})]),a._v(" "),s("h4",{attrs:{id:"crud-과정에서-jpa의-역할"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#crud-과정에서-jpa의-역할"}},[a._v("#")]),a._v(" CRUD 과정에서 JPA의 역할")]),a._v(" "),s("ul",[s("li",[a._v("Entity 분석하여 SQL 생성")]),a._v(" "),s("li",[a._v("JDBC API 사용")]),a._v(" "),s("li",[s("strong",[a._v("패러다임 불일치 해결")])]),a._v(" "),s("li",[a._v("조회의 경우 - ResultSet 매핑")])]),a._v(" "),s("h3",{attrs:{id:"jpa-는-표준-명세"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpa-는-표준-명세"}},[a._v("#")]),a._v(" JPA 는 표준 명세")]),a._v(" "),s("ul",[s("li",[a._v("인터페이스의 모음")]),a._v(" "),s("li",[a._v("JPA 2.1 표준 명세를 구현한 3가지 구현체\n"),s("ul",[s("li",[a._v("Hibernate, EclipseLink, DataNucleus")])])])]),a._v(" "),s("h3",{attrs:{id:"jpa를-왜-사용해야-하는가"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpa를-왜-사용해야-하는가"}},[a._v("#")]),a._v(" JPA를 왜 사용해야 하는가?")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("SQL 중심적인 개발에서 객체 중심으로 개발")])]),a._v(" "),s("li",[s("p",[a._v("생산성")]),a._v(" "),s("ul",[s("li",[a._v("저장 - "),s("code",[a._v("jpa.persist(member)")])]),a._v(" "),s("li",[a._v("조회 - "),s("code",[a._v("Member member = jpa.find(memberId)")])]),a._v(" "),s("li",[a._v("수정 - "),s("code",[a._v('member.setName("변경할 이름")')])]),a._v(" "),s("li",[a._v("삭제 - "),s("code",[a._v("jpa.remove(member)")])])])]),a._v(" "),s("li",[s("p",[a._v("유지보수")]),a._v(" "),s("ul",[s("li",[a._v("기존 - 필드 변경시 모든 SQL 수정")]),a._v(" "),s("li",[a._v("JPA - 필드만 추가, SQL은 JPA가 처리")])])]),a._v(" "),s("li",[s("p",[a._v("패러다임의 불일치 해결")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("JPA와 상속")]),a._v(" "),s("ul",[s("li",[a._v("상속관계에 있는 두 테이블의 객체 데이터를 업데이트 시 JPA가 알아서 각 테이블마다 SQL 생성해서 날림")])])]),a._v(" "),s("li",[s("p",[a._v("JPA와 연관관계")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 연관관계 저장")]),a._v("\nmember"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setTeam")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("team"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\njpa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("persist")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("member"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("JPA와 객체 그래프 탐색")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 객체 그래프 탐색")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),a._v(" member "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" jpa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Memberl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" memberId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Team")]),a._v(" team "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" member"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getTeam")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("JPA와 비교하기")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" memberId "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"100"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),a._v(" member1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" jpa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" memberId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),a._v(" member2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" jpa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" memberId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nmember1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" member2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 같다")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 동일한 트랜잭션에서 같은 엔티티를 반환")]),a._v("\n")])])])])])]),a._v(" "),s("li",[s("p",[a._v("성능")]),a._v(" "),s("ul",[s("li",[a._v("1차 캐시와 동일성 보장\n"),s("ul",[s("li",[a._v("동일한 트랜잭션에서 같은 엔티티를 반환")])])]),a._v(" "),s("li",[a._v("트랜잭션을 지원하는 쓰기 지연")]),a._v(" "),s("li",[a._v("지연 로딩과 즉시 로딩\n"),s("ul",[s("li",[a._v("지연 로딩 - 객체가 실제 사용될 때 로딩")]),a._v(" "),s("li",[a._v("즉시 로딩 - JOIN SQL로 한번에 연관된 객체까지 미리 조회, 두 객체를 같이 쓰는 경우가 더 많을 때 유리")])])])])]),a._v(" "),s("li",[s("p",[a._v("데이터 접근 추상화와 벤더 독립성")])]),a._v(" "),s("li",[s("p",[a._v("표준")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);