(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{317:function(t,a,s){t.exports=s.p+"assets/img/vue_component_communication_same_level2.a02b9de3.png"},356:function(t,a,s){t.exports=s.p+"assets/img/proxy-pattern.37d22b1a.png"},423:function(t,a,s){"use strict";s.r(a);var n=s(42),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"스프링-프레임워크-핵심기술"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링-프레임워크-핵심기술"}},[t._v("#")]),t._v(" 스프링 프레임워크 핵심기술")]),t._v(" "),n("blockquote",[n("p",[n("strong",[t._v("url")]),t._v(" : https://www.inflearn.com/course/spring-framework_core/dashboard\n"),n("strong",[t._v("강사")]),t._v(" : 백기선")]),t._v(" "),n("p",[t._v("스프링을 잘 모르면서 사용하다보니 이대로는 안되겠다 하는 시점들이 자주 찾아온다ㅠㅠ\n더는 미룰 수 없어서 수강하는 스프링 프레임워크 핵심기술!")])]),t._v(" "),n("h1",{attrs:{id:"_0-소개"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0-소개"}},[t._v("#")]),t._v(" 0. 소개")]),t._v(" "),n("h4",{attrs:{id:"스프링이란"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링이란"}},[t._v("#")]),t._v(" 스프링이란?")]),t._v(" "),n("ul",[n("li",[t._v("소규모 애플리케이션 또는 기업용 애플리케이션을 자바로 개발하는데 있어 유용하고 편리한 기능을 제공하는 프레임워크")])]),t._v(" "),n("h3",{attrs:{id:"디자인-철학"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#디자인-철학"}},[t._v("#")]),t._v(" 디자인 철학")]),t._v(" "),n("ul",[n("li",[t._v("모든 선택은 개발자의 몫")]),t._v(" "),n("li",[t._v("다양한 관점을 지향하여 유연성을 높임")]),t._v(" "),n("li",[t._v("하위 호환성을 지킴")]),t._v(" "),n("li",[t._v("API를 신중하게 설계")]),t._v(" "),n("li",[t._v("높은 수준의 코드 지향")])]),t._v(" "),n("br"),t._v(" "),n("h1",{attrs:{id:"_1-ioc-컨테이너와-빈"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-ioc-컨테이너와-빈"}},[t._v("#")]),t._v(" 1. IoC 컨테이너와 빈")]),t._v(" "),n("h2",{attrs:{id:"_1부-스프링-ioc-컨테이너와-빈"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1부-스프링-ioc-컨테이너와-빈"}},[t._v("#")]),t._v(" 1부. 스프링 IoC 컨테이너와 빈")]),t._v(" "),n("h3",{attrs:{id:"ioc란"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ioc란"}},[t._v("#")]),t._v(" IoC란?")]),t._v(" "),n("blockquote",[n("p",[t._v("의존 관계 주입 ( Inversion of Control )\n한 클래스에서 사용할 의존 객체를 생성자를 사용해 직접 만들어서 사용하는 것이 아니라, 주입받아서 사용하는 방법")])]),t._v(" "),n("h3",{attrs:{id:"ioc-컨테이너"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ioc-컨테이너"}},[t._v("#")]),t._v(" IoC 컨테이너")]),t._v(" "),n("ul",[n("li",[t._v("BeanFactory interface가 가장 핵심")]),t._v(" "),n("li",[t._v("어플리케이션 컴포넌트의 중앙 저장소")]),t._v(" "),n("li",[t._v("빈 설정 소스로 부터 빈 정의를 읽어들이고, 빈을 구성하고 제공")])]),t._v(" "),n("h3",{attrs:{id:"bean"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bean"}},[t._v("#")]),t._v(" Bean")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("스프링 IoC 컨테이너가 관리하는 객체")])]),t._v(" "),n("li",[n("p",[t._v("장점")]),t._v(" "),n("ul",[n("li",[t._v("의존성 관리")]),t._v(" "),n("li",[t._v("스코프\n"),n("ul",[n("li",[t._v("싱글톤 : 하나만 만들어서")]),t._v(" "),n("li",[t._v("프로토타입 : 매번 다른 객체")])])]),t._v(" "),n("li",[t._v("라이프사이클 인터페이스")])])])]),t._v(" "),n("h4",{attrs:{id:"applicationcontext"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationcontext"}},[t._v("#")]),t._v(" ApplicationContext")]),t._v(" "),n("p",[t._v("실질적으로 우리가 가장 많이 사용하게 될 BeanFactory\nBeanFactory를 상속하여 기본적인 BeanFactory의 기능을 수행하면서 추가적인 기능들을 제공")]),t._v(" "),n("ul",[n("li",[t._v("BeanFactory")]),t._v(" "),n("li",[t._v("메세지 소스 처리 기능 (i18n)")]),t._v(" "),n("li",[t._v("이벤트 발행 기능")]),t._v(" "),n("li",[t._v("리소스 로딩 기능")]),t._v(" "),n("li",[t._v("...")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_2부-applicationcontext와-다양한-빈-설정-방법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2부-applicationcontext와-다양한-빈-설정-방법"}},[t._v("#")]),t._v(" 2부. ApplicationContext와 다양한 빈 설정 방법")]),t._v(" "),n("h3",{attrs:{id:"bean을-정의하는-방법은-어노테이션-외에도-xml-파일로-가능"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bean을-정의하는-방법은-어노테이션-외에도-xml-파일로-가능"}},[t._v("#")]),t._v(" Bean을 정의하는 방법은 어노테이션 외에도 xml 파일로 가능")]),t._v(" "),n("p",[t._v("application.xml")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("소문자 시작, camelCase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("해당 클라스 package.ClassName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("상속 받을 클래스 내부에 인스턴스 변수 명"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("다른 bean id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("application.java")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Application")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),t._v(" context "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ClassPathXmlApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application.xml"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" beanDefinitionNames "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBeanDefinitionNames")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beanDefinitionNames"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookService")]),t._v(" bookService "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bookService"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("이러한 방법은 매우 불편하다!")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("context:")]),t._v("component-scan")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("base-package")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("스프링 컨테이너가 관리할 package"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),n("p",[t._v("근데 java로 컨피그 파일을 만들 수는 없을까?")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//@ComponentScan(basePackageClasses = Application.class)  ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 이 클래스가 위치한 곳부터 component 스캐닝을 해라")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ComponentScan 어노테이션을 달면 아래의 bean 정의는 모두 삭제해도 됨")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationConfig")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookRepository")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bookRepository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookRepository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookService")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bookService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookRepository")]),t._v(" bookRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bookRepository"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootApplication")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Application")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContext")]),t._v(" context "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnnotationConfigApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationConfig")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" beanDefinitionNames "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBeanDefinitionNames")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beanDefinitionNames"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookService")]),t._v(" bookService "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BookService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bookService"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bookService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bookRepository "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("SpringBoot를 사용한다면 이러한 bean 정의를 모두 생략할 수 있다.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ComponentScan 어노테이션을 포함하는 SpringBootApplication 어노테이션이 모든 Bean 객체를 생성해줌!")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootApplication")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Application")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("br"),t._v(" "),n("h2",{attrs:{id:"_3부-autowired"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3부-autowired"}},[t._v("#")]),t._v(" 3부. @Autowired")]),t._v(" "),n("blockquote",[n("p",[t._v('필요한 의존 객체의 "타입"에 해당하는 빈을 찾아 주입한다.')])]),t._v(" "),n("h3",{attrs:{id:"autowired"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#autowired"}},[t._v("#")]),t._v(" @Autowired")]),t._v(" "),n("ul",[n("li",[t._v("required: default - true (못 찾으면 구동 실패)")])]),t._v(" "),n("h3",{attrs:{id:"사용-가능한-위치"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#사용-가능한-위치"}},[t._v("#")]),t._v(" 사용 가능한 위치")]),t._v(" "),n("ul",[n("li",[t._v("constructor (스프링 4.3 이후부터 생략 가능)\n"),n("ul",[n("li",[t._v("빈을 만들 때 생성자에 parameter로 넘겨지는 bean이 존재하지 않으면 안됨")])])]),t._v(" "),n("li",[t._v("setter")]),t._v(" "),n("li",[t._v("field")])]),t._v(" "),n("h3",{attrs:{id:"경우의-수-use-case"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#경우의-수-use-case"}},[t._v("#")]),t._v(" 경우의 수 (use case)")]),t._v(" "),n("ul",[n("li",[t._v("해당 타입의 빈이 없는 경우")]),t._v(" "),n("li",[t._v("해당 타입의 빈이 한 개인 경우")]),t._v(" "),n("li",[t._v("해당 타입의 빈이 여러 개인 경우\n"),n("ul",[n("li",[t._v("빈 이름으로 시도\n"),n("ul",[n("li",[t._v("같은 이름의 빈 찾으면 해당 빈 사용")]),t._v(" "),n("li",[t._v("같은 이름 못 찾으면 실패")])])])])])]),t._v(" "),n("h3",{attrs:{id:"같은-타입의-빈이-여러개-일-때"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#같은-타입의-빈이-여러개-일-때"}},[t._v("#")]),t._v(" 같은 타입의 빈이 여러개 일 때")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("@Primary")]),t._v(" "),n("ul",[n("li",[t._v("그나마 가장 추천!")])])]),t._v(" "),n("li",[t._v("해당 타입의 빈 모두 주입\n"),n("ul",[n("li",[n("code",[t._v("List<BookRepository> bookRepositoies;")])])])]),t._v(" "),n("li",[t._v("@Qualifier (빈 이름으로 주입)\n"),n("ul",[n("li",[t._v("TypeSafe 하지 않으므로 @Primary 어노테이션을 더 추천")])])])]),t._v(" "),n("h3",{attrs:{id:"동작-원리"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#동작-원리"}},[t._v("#")]),t._v(" 동작 원리")]),t._v(" "),n("ul",[n("li",[n("p",[n("img",{attrs:{src:s(317),alt:"같은 컴포넌트 레벨 간의 통신 방법2"}})])]),t._v(" "),n("li",[n("p",[t._v("BeanPostProcessor\nBean을 만든 이후에 Bean initialization 라는 라이프사이클이 있음\nBean Initialization 이전/이후에 부가적인 작업을 하기 위한 Life Cycle Callback이 있는데 그것이 BeanPostProcessor")]),t._v(" "),n("ul",[n("li",[t._v("@PostConstruct 어노테이션\n라이프사이클 콜백, InitializingBean's after PropertiesSet\nimplements ApplicationRunner 보다 더 빠르게 실행됨 (어플리케이션 구동 중에 실행)\n"),n("ul",[n("li",[t._v("<-> ApplicationRunner\nApplicationRunner는 Spring이 모든 Initialization이 끝나고 어플리케이션 구동이 끝난 다음에 실행")])])]),t._v(" "),n("li",[t._v("새로 만든 인스턴스를 수정할 수 있는 라이프 사이클 인터페이스")]),t._v(" "),n("li",[t._v("Initialization 후에 처리 (아래의 Spring Lifecycle 12번 단계에서 해줌)")]),t._v(" "),n("li",[t._v("BeanFactory가 내부의 BeanPostProcessor를 찾음")])])]),t._v(" "),n("li",[n("p",[t._v("AutowiredAnnotationBeanPostProcessor")]),t._v(" "),n("ul",[n("li",[t._v("스프링이 제공하는 @Autowired와 @Value 어노테이션 그리고 JSR-330의 @Inject 어노테이션을 지원하는 어노테이션 처리기")]),t._v(" "),n("li",[t._v("Initialization 전에 처리 (아래의 Spring Lifecycle 11번 단계에서 해줌)")]),t._v(" "),n("li",[t._v("https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.html")])])])]),t._v(" "),n("h3",{attrs:{id:"beanfactory-interface"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#beanfactory-interface"}},[t._v("#")]),t._v(" "),n("a",{attrs:{href:"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("BeanFactory Interface"),n("OutboundLink")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("Bean factory implementations should support the standard bean lifecycle interfaces as far as possible. The full set of initialization methods and their standard order is:")]),t._v(" "),n("ol",[n("li",[t._v("BeanNameAware's "),n("code",[t._v("setBeanName")])]),t._v(" "),n("li",[t._v("BeanClassLoaderAware's "),n("code",[t._v("setBeanClassLoader")])]),t._v(" "),n("li",[t._v("BeanFactoryAware's "),n("code",[t._v("setBeanFactory")])]),t._v(" "),n("li",[t._v("EnvironmentAware's "),n("code",[t._v("setEnvironment")])]),t._v(" "),n("li",[t._v("EmbeddedValueResolverAware's "),n("code",[t._v("setEmbeddedValueResolver")])]),t._v(" "),n("li",[t._v("ResourceLoaderAware's "),n("code",[t._v("setResourceLoader")]),t._v(" (only applicable when running in an application context)")]),t._v(" "),n("li",[t._v("ApplicationEventPublisherAware's "),n("code",[t._v("setApplicationEventPublisher")]),t._v(" (only applicable when running in an application context)")]),t._v(" "),n("li",[t._v("MessageSourceAware's "),n("code",[t._v("setMessageSource")]),t._v(" (only applicable when running in an application context)")]),t._v(" "),n("li",[t._v("ApplicationContextAware's "),n("code",[t._v("setApplicationContext")]),t._v(" (only applicable when running in an application context)")]),t._v(" "),n("li",[t._v("ServletContextAware's "),n("code",[t._v("setServletContext")]),t._v(" (only applicable when running in a web application context)")]),t._v(" "),n("li",[n("code",[t._v("postProcessBeforeInitialization")]),t._v(" methods of BeanPostProcessors")]),t._v(" "),n("li",[t._v("InitializingBean's "),n("code",[t._v("afterPropertiesSet")])]),t._v(" "),n("li",[t._v("a custom init-method definition")]),t._v(" "),n("li",[n("code",[t._v("postProcessAfterInitialization")]),t._v(" methods of BeanPostProcessors")])]),t._v(" "),n("p",[t._v("On shutdown of a bean factory, the following lifecycle methods apply:")]),t._v(" "),n("ol",[n("li",[n("code",[t._v("postProcessBeforeDestruction")]),t._v(" methods of DestructionAwareBeanPostProcessors")]),t._v(" "),n("li",[t._v("DisposableBean's "),n("code",[t._v("destroy")])]),t._v(" "),n("li",[t._v("a custom destroy-method definition")])])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_4부-component와-component-scan"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4부-component와-component-scan"}},[t._v("#")]),t._v(" 4부. @Component와 Component Scan")]),t._v(" "),n("h3",{attrs:{id:"컨포넌트-스캔-주요-기능"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#컨포넌트-스캔-주요-기능"}},[t._v("#")]),t._v(" 컨포넌트 스캔 주요 기능")]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[t._v("스캔 위치 설정")])]),t._v(" "),n("ul",[n("li",[t._v("scanBasePackages")]),t._v(" "),n("li",[t._v("scanBasePackageClasses")]),t._v(" "),n("li",[t._v("SpringBoot는 SpringBootApplication 어노테이션안에 존재함")])])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("필터")]),t._v("\n어떤 애노테이션을 스캔 할지 또는 하지 않을지")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ComponentScan")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("excludeFilters "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FilterType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CUSTOM"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" classes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TypeExcludeFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FilterType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CUSTOM"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" classes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AutoConfigurationExcludeFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"component-scan의-대상들-component"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#component-scan의-대상들-component"}},[t._v("#")]),t._v(" Component Scan의 대상들 - @Component")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("@Repository")])]),t._v(" "),n("li",[n("p",[t._v("@Service")])]),t._v(" "),n("li",[n("p",[t._v("@Controller")])]),t._v(" "),n("li",[n("p",[t._v("@Configuration")])])]),t._v(" "),n("h3",{attrs:{id:"동작-원리-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#동작-원리-2"}},[t._v("#")]),t._v(" 동작 원리")]),t._v(" "),n("ul",[n("li",[t._v("@ComponentScan은 스캔할 패키지와 애노테이션에 대한 정보")]),t._v(" "),n("li",[t._v("실제 스캐닝은 ConfigurationClassPostProcessor라는 BeanFactoryPostProcessor에 의해 처리 됨.\n"),n("ul",[n("li",[t._v("다른 모든 빈들을 만들기 이전에 실행")])])])]),t._v(" "),n("h3",{attrs:{id:"functional을-사용한-빈-등록"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#functional을-사용한-빈-등록"}},[t._v("#")]),t._v(" Functional을 사용한 빈 등록")]),t._v(" "),n("p",[t._v("Spring5 이상에서 등장한 방법\nReflection, Proxy 같은 기법을 사용하지 않으므로 구동 성능에 영향을 주지 않음\n모든 Component를 등록하는건 엄청난 설정 파일을 만들게 될 것이기 때문에 대체는 어려움\n다른 패키지의 Bean을 등록하는 경우를 대체하기에는 나쁘지 않음")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplicationBuilder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sources")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Demospring51Application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("initializers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApplicationContextInitializer")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenericApplicationContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" applicationContext "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            applicationContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("br"),t._v(" "),n("h2",{attrs:{id:"_5부-bean의-scope"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5부-bean의-scope"}},[t._v("#")]),t._v(" 5부. Bean의 Scope")]),t._v(" "),n("h3",{attrs:{id:"scope"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#scope"}},[t._v("#")]),t._v(" Scope")]),t._v(" "),n("ul",[n("li",[t._v("Singleton")]),t._v(" "),n("li",[t._v("Prototype : 매번 새로운 인스턴스를 생성해서 사용\n"),n("ul",[n("li",[t._v("Request")]),t._v(" "),n("li",[t._v("Session")]),t._v(" "),n("li",[t._v("WebSocket")]),t._v(" "),n("li",[t._v("...")])])])]),t._v(" "),n("h3",{attrs:{id:"scope가-다른-빈을-참조하게-되면"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#scope가-다른-빈을-참조하게-되면"}},[t._v("#")]),t._v(" Scope가 다른 빈을 참조하게 되면?")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Prototype Bean이 Singleton Bean을 참조하면")]),t._v(" "),n("ul",[n("li",[t._v("아무 문제 없음")])])]),t._v(" "),n("li",[n("p",[t._v("Singleton Bean이 Prototype Bean을 참조하면 (Long-run 하는 인스턴스가 짧은 생명주기의 인스턴를 주입받게 되면)")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Singleton Bean 내의 Prototype Bean은 처음 객체 생성시에 할당된 instance 그대로")])]),t._v(" "),n("li",[n("p",[t._v("업데이트 하려면?")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("scoped-proxy\nhttps://en.wikipedia.org/wiki/Proxy_pattern\n"),n("code",[t._v('@Scope(value = "prototype", proxyMode = ScopedProxyMode.TARGET_CLASS)')])])]),t._v(" "),n("li",[n("p",[t._v("Object-Provider")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Prototype 생명주기의 Proto를 사용한다면?")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ObjectProvider")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" proto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proto")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProto")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 단점 : spring 코드가 포함되게 됨")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" proto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getIfAvailable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("Provider (표준)")])])])])])])])]),t._v(" "),n("h3",{attrs:{id:"singleton-객체-사용히-주의할-점"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#singleton-객체-사용히-주의할-점"}},[t._v("#")]),t._v(" Singleton 객체 사용히 주의할 점")]),t._v(" "),n("ul",[n("li",[t._v("ThreadSafe 한 방법으로 코딩해야 함")]),t._v(" "),n("li",[t._v("Property가 공유")]),t._v(" "),n("li",[t._v("ApplicationContext 초기 구동시 인스턴스 생성")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_6부-environment-1부-profile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6부-environment-1부-profile"}},[t._v("#")]),t._v(" 6부. Environment 1부 - Profile")]),t._v(" "),n("h3",{attrs:{id:"applicationcontext-extends-environmentcapable"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationcontext-extends-environmentcapable"}},[t._v("#")]),t._v(" ApplicationContext extends EnvironmentCapable")]),t._v(" "),n("ul",[n("li",[t._v("getEnvironment()")])]),t._v(" "),n("h3",{attrs:{id:"profile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#profile"}},[t._v("#")]),t._v(" Profile")]),t._v(" "),n("ul",[n("li",[t._v("Bean들의 그룹")]),t._v(" "),n("li",[t._v("Environment(Interface)의 역할은 활성화할 프로파일 확인 및 설정")])]),t._v(" "),n("h3",{attrs:{id:"profile-usecase"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#profile-usecase"}},[t._v("#")]),t._v(" Profile Usecase")]),t._v(" "),n("ul",[n("li",[t._v("테스트 환경에서는 A라는 Bean을 사용하고, 배포 환경에서는 B라는 Bean을 사용하고 싶다")]),t._v(" "),n("li",[t._v("이 Bean은 모니터링 용도니까 테스트할 때는 필요가 없고, 배포할 때만 등록이 되면 좋겠다")])]),t._v(" "),n("h3",{attrs:{id:"profile-정의하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#profile-정의하기"}},[t._v("#")]),t._v(" Profile 정의하기")]),t._v(" "),n("ul",[n("li",[t._v("Class에 정의\n"),n("ul",[n("li",[t._v('@Configuration @Profile("test")')]),t._v(" "),n("li",[t._v('@Component @Profile("test")')])])]),t._v(" "),n("li",[t._v("메서드에 정의 (Configuration 내에서 Bean 정의 시)\n"),n("ul",[n("li",[t._v('@Bean  @Profile("test")')])])])]),t._v(" "),n("h3",{attrs:{id:"profile-설정하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#profile-설정하기"}},[t._v("#")]),t._v(" profile 설정하기")]),t._v(" "),n("ul",[n("li",[t._v('-Dspring.profiles.active="test,A,B,..."')]),t._v(" "),n("li",[t._v("@ActiveProfiles (테스트용)")])]),t._v(" "),n("h3",{attrs:{id:"프로파일-표현식"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#프로파일-표현식"}},[t._v("#")]),t._v(" 프로파일 표현식")]),t._v(" "),n("ul",[n("li",[t._v("! (not)\n"),n("ul",[n("li",[t._v('@Profile("!test")')])])]),t._v(" "),n("li",[t._v("& (and)")]),t._v(" "),n("li",[t._v("! (or)")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_6부-environment-2부-property"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6부-environment-2부-property"}},[t._v("#")]),t._v(" 6부. Environment 2부 - Property")]),t._v(" "),n("h3",{attrs:{id:"property"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#property"}},[t._v("#")]),t._v(" Property")]),t._v(" "),n("ul",[n("li",[t._v("다양한 방법으로 정의할 수 있는 설저앖")]),t._v(" "),n("li",[t._v("Environment의 역할은 Property 소스 설정 및 property 값 가져오기")])]),t._v(" "),n("h3",{attrs:{id:"property-우선순위"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#property-우선순위"}},[t._v("#")]),t._v(" Property 우선순위")]),t._v(" "),n("p",[t._v("중복되는 값을 옵션으로 가지게 될 때 우선순위에 따라 설정됨")]),t._v(" "),n("ul",[n("li",[t._v("StandardServieEnvironment의 우선순위\n"),n("ul",[n("li",[t._v("ServletConfig 매개변수")]),t._v(" "),n("li",[t._v("ServletContext 매개변수")]),t._v(" "),n("li",[t._v("JNDI (java:comp/env/)")]),t._v(" "),n("li",[t._v('JVM 시스템 프로퍼티 (-Dkey="value")')]),t._v(" "),n("li",[t._v("JVM 시스템 환경 변수 (운영 체제 환경 변수)")])])])]),t._v(" "),n("h3",{attrs:{id:"propertysource"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#propertysource"}},[t._v("#")]),t._v(" @PropertySource")]),t._v(" "),n("ul",[n("li",[t._v("Environment를 통해 프로퍼티 추가하는 방법")])]),t._v(" "),n("h3",{attrs:{id:"스프링-부트의-외부-설정-참고"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링-부트의-외부-설정-참고"}},[t._v("#")]),t._v(" 스프링 부트의 외부 설정 참고")]),t._v(" "),n("ul",[n("li",[t._v('기본 프로퍼티 소스 지원 (application.properties)\n@Value("${app.name}")')]),t._v(" "),n("li",[t._v("프로파일까지 고려한 계층형 프로퍼티 우선 순위 제공")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_7부-messagesource"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7부-messagesource"}},[t._v("#")]),t._v(" 7부. MessageSource")]),t._v(" "),n("p",[t._v("국제화 (i18n) 기능을 제공하는 인터페이스\nSpring framework를 사용 할 때는 bean을 등록해줘야 하지만, SpringBoot는 ResourceBundleMessageSource 가 기본으로 로딩 됨")]),t._v(" "),n("h3",{attrs:{id:"applicationcontext-extends-messagesource"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationcontext-extends-messagesource"}},[t._v("#")]),t._v(" ApplicationContext extends MessageSource")]),t._v(" "),n("ul",[n("li",[t._v("getMessage(String code, Object[] args, String, default, Locale, Ioc)")]),t._v(" "),n("li",[t._v("...")])]),t._v(" "),n("h3",{attrs:{id:"스프링-부트를-사용한다면-별다른-설정-필요없이-messages-properties-사용할-수-있음"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링-부트를-사용한다면-별다른-설정-필요없이-messages-properties-사용할-수-있음"}},[t._v("#")]),t._v(" 스프링 부트를 사용한다면 별다른 설정 필요없이 messages.properties 사용할 수 있음")]),t._v(" "),n("ul",[n("li",[t._v("messages.properties")]),t._v(" "),n("li",[t._v("messages_ko_kr.properties (messages.ko_KR.properties)")])]),t._v(" "),n("h3",{attrs:{id:"reloading-기능이-있는-메세지-소스-사용하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reloading-기능이-있는-메세지-소스-사용하기"}},[t._v("#")]),t._v(" Reloading  기능이 있는 메세지 소스 사용하기")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageSource")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("messageSource")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReloadableResourceBundleMessageSource")]),t._v(" messageSource\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ReloadableResourceBundleMessageSource")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    messageSource"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBasename")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"classpath:/messages"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    messageSource"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDefaultEncoding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UTF-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" messageSource"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("br"),t._v(" "),n("h2",{attrs:{id:"_8부-applicationeventpublisher"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8부-applicationeventpublisher"}},[t._v("#")]),t._v(" 8부. ApplicationEventPublisher")]),t._v(" "),n("blockquote",[n("p",[t._v("이벤트 프로그래밍에 필요한 인터페이스 제공\n옵저버 패턴 구현체")])]),t._v(" "),n("h3",{attrs:{id:"applicationcontext-extends-applicationeventpublisher"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#applicationcontext-extends-applicationeventpublisher"}},[t._v("#")]),t._v(" ApplicationContext extends ApplicationEventPublisher")]),t._v(" "),n("ul",[n("li",[t._v("publicEvent(ApplicationEvent event)")])]),t._v(" "),n("h3",{attrs:{id:"이벤트-만들기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#이벤트-만들기"}},[t._v("#")]),t._v(" 이벤트 만들기")]),t._v(" "),n("ul",[n("li",[t._v("ApplicationEvent 상속")]),t._v(" "),n("li",[t._v("스프링 4.2 부터는 이 클래스를 상속받지 않아도 이벤트로 사용할 수 있다.")])]),t._v(" "),n("h3",{attrs:{id:"이벤트-발생-시키는-방법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#이벤트-발생-시키는-방법"}},[t._v("#")]),t._v(" 이벤트 발생 시키는 방법")]),t._v(" "),n("ul",[n("li",[t._v("ApplicationEventPublisher.publishEvent();")])]),t._v(" "),n("h3",{attrs:{id:"이벤트-처리하는-방법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#이벤트-처리하는-방법"}},[t._v("#")]),t._v(" 이벤트 처리하는 방법")]),t._v(" "),n("ul",[n("li",[t._v("ApplicationListener<이벤트> 구현한 클래스 만들어서 빈으로 등록하기")]),t._v(" "),n("li",[t._v("스프링 4.2 부터는 @EventListener를 사용해서 빈의 메소드에 사용할 수 있음")]),t._v(" "),n("li",[t._v("기본적으로는 synchronized")]),t._v(" "),n("li",[t._v("순서를 정하고 싶다면 @Order와 함께 사용")]),t._v(" "),n("li",[t._v("비동기적으로 실행하고 싶다면 @Async와 함께 사용\n"),n("ul",[n("li",[t._v("Thread는 스케쥴링을 통해 실행되기 때문에 @Order 어노테이션이 의미가 없음")])])])]),t._v(" "),n("h3",{attrs:{id:"스프링이-제공하는-기본-이벤트"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링이-제공하는-기본-이벤트"}},[t._v("#")]),t._v(" 스프링이 제공하는 기본 이벤트")]),t._v(" "),n("ul",[n("li",[t._v("ContextRefreshedEvent: ApplicationContext를 초기화 했더니 리프레시 했을 때 발생")]),t._v(" "),n("li",[t._v("ContextStartedEvent: ApplicationContext를 start()하여 라이프사이클 빈들이 시작 신호를 받은 시점에 발생")]),t._v(" "),n("li",[t._v("ContextStoppedEvent: ApplicationContext를 stop()하여 라이프사이클 빈들이 정지 신호를 받은 시점에 발생")]),t._v(" "),n("li",[t._v("ContextClosedEvent: ApplicationContext를 close()하여 싱글톤 빈 소멸되는 시점에 발생")]),t._v(" "),n("li",[t._v("RequestHandledEvent: HTTP 요청을 처리했을 때 발생")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_9부-resourceloader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9부-resourceloader"}},[t._v("#")]),t._v(" 9부. ResourceLoader")]),t._v(" "),n("blockquote",[n("p",[t._v("리소스를 읽어오는 기능을 제공하는 인터페이스\n"),n("code",[t._v("ApplicationContext extends ResourceLoader")])])]),t._v(" "),n("h3",{attrs:{id:"리소스-읽어오기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#리소스-읽어오기"}},[t._v("#")]),t._v(" 리소스 읽어오기")]),t._v(" "),n("ul",[n("li",[t._v("파일 시스템에서 읽어오기")]),t._v(" "),n("li",[t._v("클래스패스에서 읽어오기")]),t._v(" "),n("li",[t._v("URL로 읽어오기")]),t._v(" "),n("li",[t._v("상대/절대 경로로 읽어오기")])]),t._v(" "),n("p",[n("code",[t._v("Resource getResource(java.lang.String location)")])]),t._v(" "),n("br"),t._v(" "),n("h1",{attrs:{id:"_2-resource-validation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-resource-validation"}},[t._v("#")]),t._v(" 2. Resource / Validation")]),t._v(" "),n("h2",{attrs:{id:"_1부-resource-추상화"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1부-resource-추상화"}},[t._v("#")]),t._v(" 1부. Resource 추상화")]),t._v(" "),n("blockquote",[n("p",[t._v("org.springframework.core.io.Resource")])]),t._v(" "),n("h3",{attrs:{id:"특징"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#특징"}},[t._v("#")]),t._v(" 특징")]),t._v(" "),n("ul",[n("li",[t._v("java.net.URL을 추상화 한 것")]),t._v(" "),n("li",[t._v("스프링 내부에서 많이 사용하는 인터페이스")])]),t._v(" "),n("h3",{attrs:{id:"추상화-한-이유"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#추상화-한-이유"}},[t._v("#")]),t._v(" 추상화 한 이유")]),t._v(" "),n("ul",[n("li",[t._v("클래스패스 기준으로 리소스 읽어오는 기능 부재")]),t._v(" "),n("li",[t._v("ServletContext를 기준으로 상대 경로로 읽어오는 기능 부재")]),t._v(" "),n("li",[t._v("새로운 핸들러를 등록하여 특별한 URL 접미사를 만들어 사용할 수는 있지만 구현이 복잡하고 편의성 메소드가 부족")])]),t._v(" "),n("h3",{attrs:{id:"인터페이스-둘러보기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#인터페이스-둘러보기"}},[t._v("#")]),t._v(" 인터페이스 둘러보기")]),t._v(" "),n("ul",[n("li",[t._v("상속 받은 인터페이스")]),t._v(" "),n("li",[t._v("주요 메서드\n"),n("ul",[n("li",[t._v("getInputStream()")]),t._v(" "),n("li",[t._v("exist()")]),t._v(" "),n("li",[t._v("isOpen()")]),t._v(" "),n("li",[t._v("getDescription() : 전체 경로 포함한 파일 이름 또는 실제 URL")])])])]),t._v(" "),n("h3",{attrs:{id:"구현체"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#구현체"}},[t._v("#")]),t._v(" 구현체")]),t._v(" "),n("ul",[n("li",[t._v("UrlResource : java.net.URL 참고, 기본으로 지원하는 프로토콜 http, https, ftp, file, jar")]),t._v(" "),n("li",[t._v("ClassPathResource : 지원하는 접두어 classpath:\n"),n("code",[t._v('Resource resource = resourceLoader.getResource("classpath:test.txt");')])]),t._v(" "),n("li",[t._v("FileSystemResource")]),t._v(" "),n("li",[t._v("ServletContextResource : 웹 애플리케이션 루트에서 상대 경로로 리소스 찾음")]),t._v(" "),n("li",[t._v("...")])]),t._v(" "),n("h3",{attrs:{id:"리소스-읽어오기-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#리소스-읽어오기-2"}},[t._v("#")]),t._v(" 리소스 읽어오기")]),t._v(" "),n("ul",[n("li",[t._v("Resource의 타입은 location 문자열과 ApplicationContext의 타입에 따라 결정 된다.\n"),n("ul",[n("li",[t._v("ClassPathXmlApplicationContext -> ClassPathResource")]),t._v(" "),n("li",[t._v("FileSystemXmlApplicationContext -> FileSystemResource")]),t._v(" "),n("li",[t._v("WebApplicationContext -> Servlet ContextResource")])])]),t._v(" "),n("li",[n("strong",[t._v("ApplicationContext의 타입에 상관없이 리소스 타입을 강제하려면 java.net.URL 접두어 (+classpath:) 중 하나를 사용할 수 있다.")]),t._v("\n접두어가 있으면 이 리소스가 어디서 오는지 더 명확하게 알 수 있음\n"),n("ul",[n("li",[t._v("classpath:me/whiteship/config.xml -> ClassPathResource")]),t._v(" "),n("li",[t._v("file:///some.resource/path/config.xml -> FileSystemResource")])])])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_2부-validation-추상화"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2부-validation-추상화"}},[t._v("#")]),t._v(" 2부. Validation 추상화")]),t._v(" "),n("blockquote",[n("p",[t._v("org.springframework.validation.Validator\n애플리케이션에서 사용하는 객체 검증용 인터페이스")])]),t._v(" "),n("h3",{attrs:{id:"특징-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#특징-2"}},[t._v("#")]),t._v(" 특징")]),t._v(" "),n("ul",[n("li",[t._v("어떠한 계층과도 관계가 없다 => 모든 계층(웹, 서비스, 데이터)에서 사용해도 좋다.")]),t._v(" "),n("li",[t._v("구현체 중 하나로, JSR-303(Bean Validation 1.0)과 JSR-349(Bean Validation 1.1)을 지원한다. (LocalValidatorFactoryBean)")]),t._v(" "),n("li",[t._v("DataBinder에 들어가 바인딩 할 때 같이 사용되기도 한다.")])]),t._v(" "),n("h3",{attrs:{id:"인터페이스"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#인터페이스"}},[t._v("#")]),t._v(" 인터페이스")]),t._v(" "),n("ul",[n("li",[t._v("boolean supports(Class clazz): 어떤 타입의 객체를 검증할 때 사용할 것인지 결정함")]),t._v(" "),n("li",[t._v("void validate(Object obj, Errors e): 실제 검증 로직을 이 안에서 구현\n"),n("ul",[n("li",[t._v("구현할 때 ValidationUtils 사용하며 편리함")])])])]),t._v(" "),n("h3",{attrs:{id:"스프링-부트-2-0-5-이상-버전을-사용할-때"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링-부트-2-0-5-이상-버전을-사용할-때"}},[t._v("#")]),t._v(" 스프링 부트 2.0.5 이상 버전을 사용할 때")]),t._v(" "),n("ul",[n("li",[t._v("LocalValidatorFactoryBean 빈으로 자동 등록")]),t._v(" "),n("li",[t._v("JSR-380(Bean Validation 2.0.1) 구현체로 hibernate-validator 사용")]),t._v(" "),n("li",[t._v("https://beanvalidation.org")])]),t._v(" "),n("br"),t._v(" "),n("h1",{attrs:{id:"_3-데이터-바인딩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-데이터-바인딩"}},[t._v("#")]),t._v(" 3. 데이터 바인딩")]),t._v(" "),n("h2",{attrs:{id:"_1부-데이터-바인딩-추상화-propertyeditor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1부-데이터-바인딩-추상화-propertyeditor"}},[t._v("#")]),t._v(" 1부. 데이터 바인딩 추상화: PropertyEditor")]),t._v(" "),n("h3",{attrs:{id:"스프링이-제공하는-databinder-인터페이스"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링이-제공하는-databinder-인터페이스"}},[t._v("#")]),t._v(" 스프링이 제공하는 "),n("a",{attrs:{href:"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/DataBinder.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("DataBinder 인터페이스"),n("OutboundLink")],1)]),t._v(" "),n("ul",[n("li",[t._v("기술적인 관점 : property 값을 타겟 객체에 설정하는 기능")]),t._v(" "),n("li",[t._v("사용자 관점 : 사용자 입력값을 애플리케이션 도메인 모델에 동적으로 변환해 넣어주는 기능")]),t._v(" "),n("li",[t._v("문자열로 받는 입력값을 int, long, boolean, Event, Book 등 단순 타입 또는 객체로 변환해서 넣어주는 기능")])]),t._v(" "),n("h3",{attrs:{id:"propertyeditor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#propertyeditor"}},[t._v("#")]),t._v(" PropertyEditor")]),t._v(" "),n("ul",[n("li",[t._v("스프링 3.0 이전까지 DataBinder가 변환 작업 사용하던 인터페이스")]),t._v(" "),n("li",[t._v("쓰레드-세이프 하지 않음\n상태 정보 저장, 싱글톤 빈으로 사용하는 용도는 적절하지 않음")]),t._v(" "),n("li",[t._v("Object와 String 간의 변환만 가능 -> 사용 범위가 제한적")])]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventPropertyEditor")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PropertyEditorSupport")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAsText")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTitle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAsText")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IllegalArgumentException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),t._v(" event "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("br"),t._v(" "),n("h1",{attrs:{id:"_5-스프링-aop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-스프링-aop"}},[t._v("#")]),t._v(" 5. 스프링 AOP")]),t._v(" "),n("h2",{attrs:{id:"_1부-개념-소개"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1부-개념-소개"}},[t._v("#")]),t._v(" 1부. 개념 소개")]),t._v(" "),n("p",[t._v("Aspect-oriented Programming\nOOP를 보완하는 수단으로, 흩어진 Aspect를 모둘화 할 수 있는 프로그래밍 기법\nJava에 AspectJ라는 구현체와 연동해서 사용도 가능하고, Spring이 구현한 AOP 기능 사용도 가능\neg. 트랜잭션, 로깅")]),t._v(" "),n("p",[t._v("흩어진 관심사 (CrossCutting concerns) 를 모듈화 하는게 포인트!")]),t._v(" "),n("h3",{attrs:{id:"aop-주요-개념"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop-주요-개념"}},[t._v("#")]),t._v(" AOP 주요 개념")]),t._v(" "),n("ul",[n("li",[t._v("Aspect : 공통된 기능을 분리한 모듈\n"),n("ul",[n("li",[t._v("Advice : 해야하는 일들")])])]),t._v(" "),n("li",[t._v("Target : 적용이 될 대상")]),t._v(" "),n("li",[t._v("Pointcut : 어디에 적용이 되어야 하는지에 대한 정보 (Joint point의 구체적인 subset)")]),t._v(" "),n("li",[t._v("Join point : 합류 지점\n"),n("ul",[n("li",[t._v("메서드 실행 시점")]),t._v(" "),n("li",[t._v("생성자 호출하기 직전 / 호출했을 때")]),t._v(" "),n("li",[t._v("field에 접근하기 전 / field를 가져갔을 때")])])])]),t._v(" "),n("h3",{attrs:{id:"aop-구현체"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop-구현체"}},[t._v("#")]),t._v(" AOP 구현체")]),t._v(" "),n("ul",[n("li",[t._v("자바\n"),n("ul",[n("li",[t._v("AspectJ")]),t._v(" "),n("li",[t._v("스프링 AOP\nAspectJ 보다는 한정된 기능 제공")])])])]),t._v(" "),n("h3",{attrs:{id:"aop-적용-방법"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop-적용-방법"}},[t._v("#")]),t._v(" AOP 적용 방법")]),t._v(" "),n("ul",[n("li",[t._v("컴파일 타임 : 컴파일 시점에 Advice가 Join Point에 들어있도록 하는 것")]),t._v(" "),n("li",[t._v("로딩 타임 : Jvm에서 Target을 로딩하는 시점에 Byte Code를 변경하는 방법 (로드타임 위빙) -> 로딩시점에 부하가 생길 수 있고, 로드 타임에 위버 Java agent를 등록해줘야 함")]),t._v(" "),n("li",[t._v("런타임 : Target이 되는 Bean을 생성할 때(Runtime) Target의 타입을 가지는 Proxy Bean을 만듦\nSpring AOP가 사용하는 방법\nBean 생성 시 부하가 생길 수 있지만 요청시에 부하는 덜 함")])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_2부-프록시-기반-aop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2부-프록시-기반-aop"}},[t._v("#")]),t._v(" 2부. 프록시 기반 AOP")]),t._v(" "),n("h3",{attrs:{id:"스프링-aop-특징"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#스프링-aop-특징"}},[t._v("#")]),t._v(" 스프링 AOP 특징")]),t._v(" "),n("ul",[n("li",[t._v("프록시 기반의 AOP 구현체")]),t._v(" "),n("li",[t._v("스프링 빈에만 AOP를 적용할 수 있다.")]),t._v(" "),n("li",[t._v("모든 AOP 기능을 제공하는 것이 목적이 아니라, 스프링 IoC와 연동하여 엔터프라이즈 애플리케이션에서 가장 흔한 문제에 대한 해결책을 제공하는 것이 목적")])]),t._v(" "),n("h3",{attrs:{id:"프록시-패턴"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#프록시-패턴"}},[t._v("#")]),t._v(" 프록시 패턴")]),t._v(" "),n("ul",[n("li",[t._v("WHY?\n(기존 코드 변경 없이) "),n("strong",[t._v("접근 제어 또는 부가 기능 추가")]),t._v(" "),n("img",{attrs:{src:s(356),alt:"프록시패턴"}}),t._v("\nProxy 객체는 target 객체(Real Subject)를 한번 감싸서 Real Subject(target 객체)를 사용")]),t._v(" "),n("li",[t._v("기존 코드를 건드리지 않고 성능을 측정해 보자.")])]),t._v(" "),n("h3",{attrs:{id:"문제점"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#문제점"}},[t._v("#")]),t._v(" 문제점")]),t._v(" "),n("ul",[n("li",[t._v("매번 프록시 클래스를 작성해야 하는가?")]),t._v(" "),n("li",[t._v("여러 클래스 여러 메소드에 적용하려면?")]),t._v(" "),n("li",[t._v("객체들 관계도 복잡..")])]),t._v(" "),n("h3",{attrs:{id:"이를-해결하기-위해-등장한-것이-스프링-aop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#이를-해결하기-위해-등장한-것이-스프링-aop"}},[t._v("#")]),t._v(" 이를 해결하기 위해 등장한 것이 스프링 AOP")]),t._v(" "),n("ul",[n("li",[t._v("스프링 IoC 컨테이너가 제공하는 기반 시설과 Dynamic 프록시를 사용하여 여러 복잡한 문제 해결")]),t._v(" "),n("li",[t._v("동적 프록시: 동적으로 프록시 객체 생성하는 방법\n"),n("ul",[n("li",[t._v("자바가 제공하는 방법은 인터페이스 기반 프록시 생성\n-> 해당 인터페이스의 실제 구현체에 의존성을 가지는 Proxy bean을 생성하는 방법")]),t._v(" "),n("li",[t._v("CGlib는 클래스 기반 프록시도 지원")])])]),t._v(" "),n("li",[t._v("스프링 IoC: 기존 빈을 대체하는 동적 프록시 빈을 만들어 등록 시켜준다.\n"),n("ul",[n("li",[t._v("클라이언트 코드 변경 없음")]),t._v(" "),n("li",[t._v("AbstractAutoProxyCreator implement BeanPostProcessor\n이걸로 SimpleEventService를 감싸는 프록시 bean을 만들어서")])])])]),t._v(" "),n("br"),t._v(" "),n("h2",{attrs:{id:"_3부-aop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3부-aop"}},[t._v("#")]),t._v(" 3부. @AOP")]),t._v(" "),n("p",[t._v("애노테이션 기반의 스프링 @AOP")]),t._v(" "),n("h3",{attrs:{id:"의존성-추가"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#의존성-추가"}},[t._v("#")]),t._v(" 의존성 추가")]),t._v(" "),n("div",{staticClass:"language-gradle extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("implementation 'org.springframework.boot:spring-boot-starter-aop'\n")])])]),n("h3",{attrs:{id:"aspect-정의"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aspect-정의"}},[t._v("#")]),t._v(" Aspect 정의")]),t._v(" "),n("ul",[n("li",[t._v("@Aspect")]),t._v(" "),n("li",[t._v("빈으로 등록해야 함\n"),n("ul",[n("li",[t._v("ApplicationContext에 직접 추가 또는 @Component도 추가")])])])]),t._v(" "),n("h3",{attrs:{id:"포인트컷-정의"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#포인트컷-정의"}},[t._v("#")]),t._v(" 포인트컷 정의")]),t._v(" "),n("ul",[n("li",[t._v("@Pointcut (표현식)")]),t._v(" "),n("li",[t._v("주요 표현식\n"),n("ul",[n("li",[t._v('execution\n@Around("execution(* kiyeon.practice..'),n("em",[t._v(".EventService.")]),t._v('(..))")')]),t._v(" "),n("li",[t._v('@annotation\n@Around("@annotation(PerfLogging)")')]),t._v(" "),n("li",[t._v('bean\n@Around("bean(simpleEventService)")')])])])]),t._v(" "),n("h3",{attrs:{id:"어드바이스-정의"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#어드바이스-정의"}},[t._v("#")]),t._v(" 어드바이스 정의")]),t._v(" "),n("ul",[n("li",[t._v("@Before")]),t._v(" "),n("li",[t._v("@AfterReturning")]),t._v(" "),n("li",[t._v("@AfterThrowing")]),t._v(" "),n("li",[t._v("@Around")])])])}),[],!1,null,null,null);a.default=e.exports}}]);