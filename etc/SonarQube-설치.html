<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Trouble Shooting | Today kiyeoneee Learned</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="What kiyeoneee learned everyday">
    <link rel="preload" href="/TIL/assets/css/0.styles.25cf7e1a.css" as="style"><link rel="preload" href="/TIL/assets/js/app.14df79b1.js" as="script"><link rel="preload" href="/TIL/assets/js/2.dce8ba1c.js" as="script"><link rel="preload" href="/TIL/assets/js/10.4f5ca765.js" as="script"><link rel="prefetch" href="/TIL/assets/js/11.8c375806.js"><link rel="prefetch" href="/TIL/assets/js/12.b481e600.js"><link rel="prefetch" href="/TIL/assets/js/13.f20868f4.js"><link rel="prefetch" href="/TIL/assets/js/14.41e7de9c.js"><link rel="prefetch" href="/TIL/assets/js/15.0e8a7359.js"><link rel="prefetch" href="/TIL/assets/js/16.203af499.js"><link rel="prefetch" href="/TIL/assets/js/17.063a3e76.js"><link rel="prefetch" href="/TIL/assets/js/18.97a8642a.js"><link rel="prefetch" href="/TIL/assets/js/19.402f271c.js"><link rel="prefetch" href="/TIL/assets/js/20.7018a74a.js"><link rel="prefetch" href="/TIL/assets/js/21.374cbc95.js"><link rel="prefetch" href="/TIL/assets/js/22.b10e5b32.js"><link rel="prefetch" href="/TIL/assets/js/23.8c73a2d0.js"><link rel="prefetch" href="/TIL/assets/js/24.a6b3b327.js"><link rel="prefetch" href="/TIL/assets/js/25.67310368.js"><link rel="prefetch" href="/TIL/assets/js/26.0cc3dc23.js"><link rel="prefetch" href="/TIL/assets/js/27.37dbddf6.js"><link rel="prefetch" href="/TIL/assets/js/28.25bf1a71.js"><link rel="prefetch" href="/TIL/assets/js/29.5178dc1b.js"><link rel="prefetch" href="/TIL/assets/js/3.54a487f9.js"><link rel="prefetch" href="/TIL/assets/js/30.900f1a49.js"><link rel="prefetch" href="/TIL/assets/js/31.5acadd72.js"><link rel="prefetch" href="/TIL/assets/js/32.32847f7d.js"><link rel="prefetch" href="/TIL/assets/js/33.d04d65df.js"><link rel="prefetch" href="/TIL/assets/js/34.a72ae435.js"><link rel="prefetch" href="/TIL/assets/js/35.161fd7dc.js"><link rel="prefetch" href="/TIL/assets/js/36.754771e8.js"><link rel="prefetch" href="/TIL/assets/js/37.e070245d.js"><link rel="prefetch" href="/TIL/assets/js/38.06a44a05.js"><link rel="prefetch" href="/TIL/assets/js/39.275c570e.js"><link rel="prefetch" href="/TIL/assets/js/4.30442eb7.js"><link rel="prefetch" href="/TIL/assets/js/40.d597ea7b.js"><link rel="prefetch" href="/TIL/assets/js/41.245be6d0.js"><link rel="prefetch" href="/TIL/assets/js/42.12baffdd.js"><link rel="prefetch" href="/TIL/assets/js/43.86f1dc16.js"><link rel="prefetch" href="/TIL/assets/js/44.db7e6df7.js"><link rel="prefetch" href="/TIL/assets/js/45.203b2bc7.js"><link rel="prefetch" href="/TIL/assets/js/46.e9df3ac1.js"><link rel="prefetch" href="/TIL/assets/js/47.deadd21a.js"><link rel="prefetch" href="/TIL/assets/js/48.b70a2df0.js"><link rel="prefetch" href="/TIL/assets/js/49.1a4d181d.js"><link rel="prefetch" href="/TIL/assets/js/5.a34725ae.js"><link rel="prefetch" href="/TIL/assets/js/50.fa9d44cb.js"><link rel="prefetch" href="/TIL/assets/js/51.3202ad00.js"><link rel="prefetch" href="/TIL/assets/js/52.a6b1fe41.js"><link rel="prefetch" href="/TIL/assets/js/53.dd35c8d1.js"><link rel="prefetch" href="/TIL/assets/js/54.44b419f9.js"><link rel="prefetch" href="/TIL/assets/js/55.e2e2942a.js"><link rel="prefetch" href="/TIL/assets/js/56.fc1b4e3e.js"><link rel="prefetch" href="/TIL/assets/js/57.3aad11c0.js"><link rel="prefetch" href="/TIL/assets/js/58.fcd4daa5.js"><link rel="prefetch" href="/TIL/assets/js/59.d043979e.js"><link rel="prefetch" href="/TIL/assets/js/6.a0757fc0.js"><link rel="prefetch" href="/TIL/assets/js/60.58261ba7.js"><link rel="prefetch" href="/TIL/assets/js/61.3e59b22b.js"><link rel="prefetch" href="/TIL/assets/js/62.b1ac5ae1.js"><link rel="prefetch" href="/TIL/assets/js/63.01eebdae.js"><link rel="prefetch" href="/TIL/assets/js/64.5c3d4686.js"><link rel="prefetch" href="/TIL/assets/js/65.1c655cd7.js"><link rel="prefetch" href="/TIL/assets/js/7.112c04ff.js"><link rel="prefetch" href="/TIL/assets/js/8.130adf09.js"><link rel="prefetch" href="/TIL/assets/js/9.b12d813d.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.25cf7e1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today kiyeoneee Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kiyeoneee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kyeoneee.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tech Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kiyeoneee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kyeoneee.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tech Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Books</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/TIL/book/clean-code" class="sidebar-heading clickable open"><span>Clean Code</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/book/clean-code/2-의미있는-이름.html" class="sidebar-link">2장. 의미있는 이름</a></li><li><a href="/TIL/book/clean-code/3-함수.html" class="sidebar-link">3장. 함수</a></li><li><a href="/TIL/book/clean-code/4-주석.html" class="sidebar-link">4장. 주석</a></li><li><a href="/TIL/book/clean-code/5-형식-맞추기.html" class="sidebar-link">5장. 형식 맞추기</a></li><li><a href="/TIL/book/clean-code/6-객체와-자료-구조.html" class="sidebar-link">6장. 객체와 자료 구조</a></li><li><a href="/TIL/book/clean-code/7-오류-처리.html" class="sidebar-link">7장. 오류 처리</a></li><li><a href="/TIL/book/clean-code/8-경계.html" class="sidebar-link">8장. 경계</a></li><li><a href="/TIL/book/clean-code/9-단위테스트.html" class="sidebar-link">9장. 단위 테스트</a></li><li><a href="/TIL/book/clean-code/10-클래스.html" class="sidebar-link">10장. 클래스</a></li><li><a href="/TIL/book/clean-code/11-시스템.html" class="sidebar-link">11장. 시스템</a></li><li><a href="/TIL/book/clean-code/12-창발성.html" class="sidebar-link">12장. 창발성</a></li><li><a href="/TIL/book/clean-code/14-점진적-개선.html" class="sidebar-link">14장. 점진적 개선</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="trouble-shooting"><a href="#trouble-shooting" class="header-anchor">#</a> Trouble Shooting</h2> <h3 id="java-버전-issue"><a href="#java-버전-issue" class="header-anchor">#</a> Java 버전 Issue</h3> <p>실행 시 아래와 같은 자바 버전 관련 이슈가 있었다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>WrapperSimpleApp: Encountered an error running main: java.lang.IllegalStateException: SonarQube requires Java <span class="token number">11</span> to run
java.lang.IllegalStateException: SonarQube requires Java <span class="token number">11</span> to run
        at com.google.common.base.Preconditions.checkState<span class="token punctuation">(</span>Preconditions.java:508<span class="token punctuation">)</span>
        at org.sonar.application.App.checkJavaVersion<span class="token punctuation">(</span>App.java:94<span class="token punctuation">)</span>
        at org.sonar.application.App.start<span class="token punctuation">(</span>App.java:57<span class="token punctuation">)</span>
        at org.sonar.application.App.main<span class="token punctuation">(</span>App.java:98<span class="token punctuation">)</span>
        at sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
        at sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java:62<span class="token punctuation">)</span>
        at sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java:43<span class="token punctuation">)</span>
        at java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java:498<span class="token punctuation">)</span>
        at org.tanukisoftware.wrapper.WrapperSimpleApp.run<span class="token punctuation">(</span>WrapperSimpleApp.java:240<span class="token punctuation">)</span>
        at java.lang.Thread.run<span class="token punctuation">(</span>Thread.java:745<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>-- Wrapper Stopped
</code></pre></div><p>소나큐브 설치 당시 가장 최신버전인 <code>sonarqube-8.3.0.34182</code>을 다운받아서 세팅하는 과정에 발생 한 버그다.<br>
SonarQube는 내부적으로 검색을 위해 사용하는 ElasticSearch가 Java11 이상의 버전이 필요한데 현재 사용중인 서버에서는 Java8을 사용중이어서 발생하는 이슈이다.<br>
서버 전체의 자바 버전을 업그레이드 하기에는 서버에서 구동중인 서비스들이 있어서 Java11을 설치 한 뒤 설정파일에서 path를 변경하는 방법으로 이슈를 해결했다.</p> <h4 id="해결-방법"><a href="#해결-방법" class="header-anchor">#</a> 해결 방법</h4> <blockquote><ol><li><p>Java 11 설치 및 압축 해제</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> <span class="token punctuation">{</span>Java11_directory_path<span class="token punctuation">}</span>
$ <span class="token function">curl</span> -O https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz
$ <span class="token function">tar</span> -zxvf openjdk-11.0.2_linux-x64_bin.tar.gz
</code></pre></div></li> <li><p>SonarQube 설정 내 Java 경로 변경</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> <span class="token punctuation">{</span>SonqrQube_path<span class="token punctuation">}</span>/sonarqube-8.3.0.34182/conf
$ <span class="token function">vi</span> wrapper.conf
</code></pre></div><p>가장 상단의 wrapper.java.command 값을 <code>{Java11_directory_path}/jdk-{버전}/bin/java</code>으로 변경 해 준다.</p> <p><img src="/TIL/assets/img/image-20200507121346145.f6d20a28.png" alt="image-20200507121346145"></p></li></ol></blockquote> <br> <h3 id="elasticsearch-vm-max-map-count-이슈"><a href="#elasticsearch-vm-max-map-count-이슈" class="header-anchor">#</a> Elasticsearch vm.max_map_count 이슈</h3> <p>Elasticseasrch 5.0 이후로 인스턴스 시작 시 bootstrap 체크라는 장치가 도입되어 의도치 않은 설정 실수를 미리 확인할 수 있게 되었다.<br>
Elasticsearch의 효율성을 위해 max_map_count를 최소 262144로 사용하도록 하는데, 서버 내에서는 해당 값이 65530로 설정되어 있어서 생긴 문제였다.<br>
이슈 관련 로그</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:40 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.SchedulerImpl<span class="token punctuation">]</span> Waiting <span class="token keyword">for</span> Elasticsearch to be up and running
OpenJDK <span class="token number">64</span>-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated <span class="token keyword">in</span> version <span class="token number">9.0</span> and will likely be removed <span class="token keyword">in</span> a future release.
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:40 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.e.p.PluginsService<span class="token punctuation">]</span> no modules loaded
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:40 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.e.p.PluginsService<span class="token punctuation">]</span> loaded plugin <span class="token punctuation">[</span>org.elasticsearch.transport.Netty4Plugin<span class="token punctuation">]</span>
ERROR: <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> bootstrap checks failed
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: max virtual memory areas vm.max_map_count <span class="token punctuation">[</span><span class="token number">65530</span><span class="token punctuation">]</span> is too low, increase to at least <span class="token punctuation">[</span><span class="token number">262144</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: system call filters failed to <span class="token function">install</span><span class="token punctuation">;</span> check the logs and fix your configuration or disable system call filters at your own risk
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:46 WARN  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.p.AbstractManagedProcess<span class="token punctuation">]</span> Process exited with <span class="token builtin class-name">exit</span> value <span class="token punctuation">[</span>es<span class="token punctuation">]</span>: <span class="token number">78</span>
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:46 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.SchedulerImpl<span class="token punctuation">]</span> Process<span class="token punctuation">[</span>es<span class="token punctuation">]</span> is stopped
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:46 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.SchedulerImpl<span class="token punctuation">]</span> SonarQube is stopped
<span class="token operator">&lt;</span>-- Wrapper Stopped
</code></pre></div><h4 id="해결방법"><a href="#해결방법" class="header-anchor">#</a> 해결방법</h4> <blockquote><div class="language-shell extra-class"><pre class="language-shell"><code>$ sysctl -w vm.max_map_count<span class="token operator">=</span><span class="token number">262144</span>
$ sysctl vm.max_map_count
vm.max_map_count <span class="token operator">=</span> <span class="token number">262144</span> <span class="token comment"># 정상적으로 설정된 것 </span>
</code></pre></div></blockquote> <br> <h3 id="elasticsearch-데몬-실행"><a href="#elasticsearch-데몬-실행" class="header-anchor">#</a> Elasticsearch 데몬 실행</h3> <p>Elasticsearch를 데몬으로 실행하기 위해 System call filter check 설정이 필요한데 해당 부분에 대한 설정이 없어  bootstrap 에러가 난 것이다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">2020.06</span>.08 <span class="token number">10</span>:57:07 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.SchedulerImpl<span class="token punctuation">]</span> Waiting <span class="token keyword">for</span> Elasticsearch to be up and running
OpenJDK <span class="token number">64</span>-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated <span class="token keyword">in</span> version <span class="token number">9.0</span> and will likely be removed <span class="token keyword">in</span> a future release.
<span class="token number">2020.06</span>.08 <span class="token number">10</span>:57:07 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.e.p.PluginsService<span class="token punctuation">]</span> no modules loaded
<span class="token number">2020.06</span>.08 <span class="token number">10</span>:57:07 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.e.p.PluginsService<span class="token punctuation">]</span> loaded plugin <span class="token punctuation">[</span>org.elasticsearch.transport.Netty4Plugin<span class="token punctuation">]</span>
ERROR: <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> bootstrap checks failed

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: system call filters failed to <span class="token function">install</span><span class="token punctuation">;</span> check the logs and fix your configuration or disable system call filters at your own risk
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:46 WARN  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.p.AbstractManagedProcess<span class="token punctuation">]</span> Process exited with <span class="token builtin class-name">exit</span> value <span class="token punctuation">[</span>es<span class="token punctuation">]</span>: <span class="token number">78</span>
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:46 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.SchedulerImpl<span class="token punctuation">]</span> Process<span class="token punctuation">[</span>es<span class="token punctuation">]</span> is stopped
<span class="token number">2020.05</span>.06 <span class="token number">18</span>:47:46 INFO  app<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>o.s.a.SchedulerImpl<span class="token punctuation">]</span> SonarQube is stopped
<span class="token operator">&lt;</span>-- Wrapper Stopped
</code></pre></div><h4 id="해결방법-2"><a href="#해결방법-2" class="header-anchor">#</a> 해결방법</h4> <blockquote><p>sonarQube 디렉토리 내에 있는 elasticsearch의 config 파일을 직접 건드리면 안된다고 한다.<br>
Sonarqube의 설정파일 중 Elasticsearch이 부분의 주석을 해제하고 아래와 같이 system_call_filer 설정값 부분을 수정해 준다.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token builtin class-name">cd</span> /path/to/sonarqube
$ <span class="token function">vi</span> conf/sonar.properties
<span class="token comment">#--------------------------------------------------------------------------------------------------</span>
<span class="token comment"># ELASTICSEARCH</span>
<span class="token comment"># Elasticsearch is used to facilitate fast and accurate information retrieval.</span>
<span class="token comment"># It is executed in a dedicated Java process. Default heap size is 512MB.</span>
<span class="token comment">#</span>
<span class="token comment"># --------------------------------------------------</span>
<span class="token comment"># Word of caution for Linux users on 64bits systems</span>
<span class="token comment"># --------------------------------------------------</span>
<span class="token comment"># Please ensure Virtual Memory on your system is correctly configured for Elasticsearch to run properly</span>
<span class="token comment"># (see https://www.elastic.co/guide/en/elasticsearch/reference/5.5/vm-max-map-count.html for details).</span>
<span class="token comment">#</span>
<span class="token comment"># When SonarQube runs standalone, a warning such as the following may appear in logs/es.log:</span>
<span class="token comment">#      &quot;max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]&quot;</span>
<span class="token comment"># When SonarQube runs as a cluster, however, Elasticsearch will refuse to start.</span>
<span class="token comment">#</span>

<span class="token comment"># JVM options of Elasticsearch process</span>
<span class="token comment">#sonar.search.javaOpts=-Xmx512m -Xms512m -XX:+HeapDumpOnOutOfMemoryError</span>

<span class="token comment"># Same as previous property, but allows to not repeat all other settings like -Xmx</span>
<span class="token comment">#sonar.search.javaAdditionalOpts=</span>
sonar.search.javaAdditionalOpts<span class="token operator">=</span>-Dbootstrap.system_call_filter<span class="token operator">=</span>false

<span class="token comment"># Elasticsearch port. Default is 9001. Use 0 to get a free port.</span>
<span class="token comment"># As a security precaution, should be blocked by a firewall and not exposed to the Internet.</span>
<span class="token comment">#sonar.search.port=9001</span>

<span class="token comment"># Elasticsearch host. The search server will bind this address and the search client will connect to it.</span>
<span class="token comment"># Default is loopback address.</span>
<span class="token comment"># As a security precaution, should NOT be set to a publicly available address.</span>
<span class="token comment">#sonar.search.host=</span>

</code></pre></div></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.14df79b1.js" defer></script><script src="/TIL/assets/js/2.dce8ba1c.js" defer></script><script src="/TIL/assets/js/10.4f5ca765.js" defer></script>
  </body>
</html>
