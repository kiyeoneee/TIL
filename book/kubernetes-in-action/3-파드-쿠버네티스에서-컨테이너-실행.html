<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3. 파드: 쿠버네티스에서 컨테이너 실행 | Today kiyeoneee Learned</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="What kiyeoneee learned everyday">
    <link rel="preload" href="/TIL/assets/css/0.styles.25cf7e1a.css" as="style"><link rel="preload" href="/TIL/assets/js/app.14df79b1.js" as="script"><link rel="preload" href="/TIL/assets/js/2.dce8ba1c.js" as="script"><link rel="preload" href="/TIL/assets/js/44.db7e6df7.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.4f5ca765.js"><link rel="prefetch" href="/TIL/assets/js/11.8c375806.js"><link rel="prefetch" href="/TIL/assets/js/12.b481e600.js"><link rel="prefetch" href="/TIL/assets/js/13.f20868f4.js"><link rel="prefetch" href="/TIL/assets/js/14.41e7de9c.js"><link rel="prefetch" href="/TIL/assets/js/15.0e8a7359.js"><link rel="prefetch" href="/TIL/assets/js/16.203af499.js"><link rel="prefetch" href="/TIL/assets/js/17.063a3e76.js"><link rel="prefetch" href="/TIL/assets/js/18.97a8642a.js"><link rel="prefetch" href="/TIL/assets/js/19.402f271c.js"><link rel="prefetch" href="/TIL/assets/js/20.7018a74a.js"><link rel="prefetch" href="/TIL/assets/js/21.374cbc95.js"><link rel="prefetch" href="/TIL/assets/js/22.b10e5b32.js"><link rel="prefetch" href="/TIL/assets/js/23.8c73a2d0.js"><link rel="prefetch" href="/TIL/assets/js/24.a6b3b327.js"><link rel="prefetch" href="/TIL/assets/js/25.67310368.js"><link rel="prefetch" href="/TIL/assets/js/26.0cc3dc23.js"><link rel="prefetch" href="/TIL/assets/js/27.37dbddf6.js"><link rel="prefetch" href="/TIL/assets/js/28.25bf1a71.js"><link rel="prefetch" href="/TIL/assets/js/29.5178dc1b.js"><link rel="prefetch" href="/TIL/assets/js/3.54a487f9.js"><link rel="prefetch" href="/TIL/assets/js/30.900f1a49.js"><link rel="prefetch" href="/TIL/assets/js/31.5acadd72.js"><link rel="prefetch" href="/TIL/assets/js/32.32847f7d.js"><link rel="prefetch" href="/TIL/assets/js/33.d04d65df.js"><link rel="prefetch" href="/TIL/assets/js/34.a72ae435.js"><link rel="prefetch" href="/TIL/assets/js/35.161fd7dc.js"><link rel="prefetch" href="/TIL/assets/js/36.754771e8.js"><link rel="prefetch" href="/TIL/assets/js/37.e070245d.js"><link rel="prefetch" href="/TIL/assets/js/38.06a44a05.js"><link rel="prefetch" href="/TIL/assets/js/39.275c570e.js"><link rel="prefetch" href="/TIL/assets/js/4.30442eb7.js"><link rel="prefetch" href="/TIL/assets/js/40.d597ea7b.js"><link rel="prefetch" href="/TIL/assets/js/41.245be6d0.js"><link rel="prefetch" href="/TIL/assets/js/42.12baffdd.js"><link rel="prefetch" href="/TIL/assets/js/43.86f1dc16.js"><link rel="prefetch" href="/TIL/assets/js/45.203b2bc7.js"><link rel="prefetch" href="/TIL/assets/js/46.e9df3ac1.js"><link rel="prefetch" href="/TIL/assets/js/47.deadd21a.js"><link rel="prefetch" href="/TIL/assets/js/48.b70a2df0.js"><link rel="prefetch" href="/TIL/assets/js/49.1a4d181d.js"><link rel="prefetch" href="/TIL/assets/js/5.a34725ae.js"><link rel="prefetch" href="/TIL/assets/js/50.fa9d44cb.js"><link rel="prefetch" href="/TIL/assets/js/51.3202ad00.js"><link rel="prefetch" href="/TIL/assets/js/52.a6b1fe41.js"><link rel="prefetch" href="/TIL/assets/js/53.dd35c8d1.js"><link rel="prefetch" href="/TIL/assets/js/54.44b419f9.js"><link rel="prefetch" href="/TIL/assets/js/55.e2e2942a.js"><link rel="prefetch" href="/TIL/assets/js/56.fc1b4e3e.js"><link rel="prefetch" href="/TIL/assets/js/57.3aad11c0.js"><link rel="prefetch" href="/TIL/assets/js/58.fcd4daa5.js"><link rel="prefetch" href="/TIL/assets/js/59.d043979e.js"><link rel="prefetch" href="/TIL/assets/js/6.a0757fc0.js"><link rel="prefetch" href="/TIL/assets/js/60.58261ba7.js"><link rel="prefetch" href="/TIL/assets/js/61.3e59b22b.js"><link rel="prefetch" href="/TIL/assets/js/62.b1ac5ae1.js"><link rel="prefetch" href="/TIL/assets/js/63.01eebdae.js"><link rel="prefetch" href="/TIL/assets/js/64.5c3d4686.js"><link rel="prefetch" href="/TIL/assets/js/65.1c655cd7.js"><link rel="prefetch" href="/TIL/assets/js/7.112c04ff.js"><link rel="prefetch" href="/TIL/assets/js/8.130adf09.js"><link rel="prefetch" href="/TIL/assets/js/9.b12d813d.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.25cf7e1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today kiyeoneee Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kiyeoneee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kyeoneee.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tech Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kiyeoneee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kyeoneee.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tech Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Books</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/TIL/book/clean-code" class="sidebar-heading clickable open"><span>Clean Code</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/book/clean-code/2-의미있는-이름.html" class="sidebar-link">2장. 의미있는 이름</a></li><li><a href="/TIL/book/clean-code/3-함수.html" class="sidebar-link">3장. 함수</a></li><li><a href="/TIL/book/clean-code/4-주석.html" class="sidebar-link">4장. 주석</a></li><li><a href="/TIL/book/clean-code/5-형식-맞추기.html" class="sidebar-link">5장. 형식 맞추기</a></li><li><a href="/TIL/book/clean-code/6-객체와-자료-구조.html" class="sidebar-link">6장. 객체와 자료 구조</a></li><li><a href="/TIL/book/clean-code/7-오류-처리.html" class="sidebar-link">7장. 오류 처리</a></li><li><a href="/TIL/book/clean-code/8-경계.html" class="sidebar-link">8장. 경계</a></li><li><a href="/TIL/book/clean-code/9-단위테스트.html" class="sidebar-link">9장. 단위 테스트</a></li><li><a href="/TIL/book/clean-code/10-클래스.html" class="sidebar-link">10장. 클래스</a></li><li><a href="/TIL/book/clean-code/11-시스템.html" class="sidebar-link">11장. 시스템</a></li><li><a href="/TIL/book/clean-code/12-창발성.html" class="sidebar-link">12장. 창발성</a></li><li><a href="/TIL/book/clean-code/14-점진적-개선.html" class="sidebar-link">14장. 점진적 개선</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3-파드-쿠버네티스에서-컨테이너-실행"><a href="#_3-파드-쿠버네티스에서-컨테이너-실행" class="header-anchor">#</a> 3. 파드: 쿠버네티스에서 컨테이너 실행</h1> <h2 id="파드-소개"><a href="#파드-소개" class="header-anchor">#</a> 파드 소개</h2> <blockquote><p>함께 배치된 컨테이너 그룹이며 쿠버네티스의 기본 빌딩 블록</p></blockquote> <h3 id="파드가-필요한-이유"><a href="#파드가-필요한-이유" class="header-anchor">#</a> 파드가 필요한 이유</h3> <p>컨테이너는 단일 프로세스를 실행하는 것을 목적으로 설계
멀티 프로세스 실행 시 실행, 재시작과 로그 관리가 모두 사용자의 책임</p> <p>컨테이너를 함께 묶고 하나의 단위로 관리할 수 있는 상위구조가 필요</p> <p>TODO - 내용 중 프로세스가 자기 자신의 자식 프로세스를 생성한단건 어떤 케이스..? 사이드카 패턴..?</p> <h3 id="파드-이해하기"><a href="#파드-이해하기" class="header-anchor">#</a> 파드 이해하기</h3> <p>쿠버네티스는 컨테이너 그룹을 분리하고, 그룹 내부에서는 특정 리소스를 공유하도록 완벽하게 격리되지 않도록 함
파드 안의 모든 컨테이너는 동일 리눅스 네임스페이스를 공유하도록 도커를 설정</p> <p>파드 안에서는 동일한 네트워크 네임스페이스에서 실행됨
-&gt; 동일한 IP 주소와 포드 공간을 공유</p> <p><strong>정리</strong>
파드는 논리적인 호스트로서 컨테이너가 아닌 환경에서의 물리적 호스트 혹은 VM과 매우 유사하게 동작
차이점은 동일한 파드에서 실행한 프로세스는 각 컨테이너 안에 캡슐화되어 있는 점</p> <h3 id="파드에서-컨테이너의-적절한-구성"><a href="#파드에서-컨테이너의-적절한-구성" class="header-anchor">#</a> 파드에서 컨테이너의 적절한 구성</h3> <p>모든 것을 하나의 파드에 넣는 것이 아닌 여러 파드로 구성하여 밀접하게 관련있는 구성 요소나 프로세스만 포함하도록 함</p> <ul><li>파드의 크기를 키우는 방식보다는 분리하여 인프라스트럭처의 활용도도 향상시킬 수 있음</li> <li>개별 확장이 가능하도록 여러 파드로 분할
<strong>파드는 스케일링의 기본 단위</strong></li> <li>사이드카 패턴인 경우는 파드에 여러 컨테이너 사용</li></ul> <br> <h2 id="yaml-또는-json-디스크립터로-파드-생성"><a href="#yaml-또는-json-디스크립터로-파드-생성" class="header-anchor">#</a> YAML  또는 JSON 디스크립터로 파드 생성</h2> <h3 id="yaml-디스크립터-살펴보기"><a href="#yaml-디스크립터-살펴보기" class="header-anchor">#</a> YAML 디스크립터 살펴보기</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># yaml 디스크립터에서 사용한 쿠버네티스 api 버전</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token comment"># 쿠버네티스 오브젝트 / 리소스 유형</span>
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token comment"># 파드 메타데이터</span>
<span class="token comment"># 이름, 네임스페이스, 레이블 및 파드에 관한 기타 정보를 포함</span>
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kubia <span class="token comment"># 파드 이름</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span> <span class="token comment"># key-value</span>
  	<span class="token key atrule">creation_method</span><span class="token punctuation">:</span> manual
  	<span class="token key atrule">env</span><span class="token punctuation">:</span> prod
  ..
<span class="token comment"># 파드 정의/내용</span>
<span class="token comment"># 파드 컨테이너, 볼륨, 기타 데이터 등 파드 자체에 대한 실제 명세 </span>
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> ..  <span class="token comment"># 컨테이너를 만드는 이미지</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> kubia  <span class="token comment"># 컨테이너 이름</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
      <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TCP
<span class="token comment"># 파드와 그 안의 여러 컨테이너의 상세한 상태</span>
<span class="token comment"># 파드 상태, 각 컨테이너 설명 &amp; 상태. 파드 내부 IP, 기타 기본 정보 등</span>
<span class="token key atrule">status</span><span class="token punctuation">:</span>
  <span class="token key atrule">conditions</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">lastProbeTime</span><span class="token punctuation">:</span> <span class="token null important">null</span>
  ..
</code></pre></div><h3 id="파드-생성-관리"><a href="#파드-생성-관리" class="header-anchor">#</a> 파드 생성, 관리</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 파드 생성</span>
$ kubectl create -f kubia-manual.yaml

<span class="token comment"># 실행중인 파드 정의 가져오기 </span>
$ kubectl get po kubia-manual -o yaml<span class="token operator">|</span>json

<span class="token comment"># 생성된 파드 목록 확인</span>
$ kubectl get pods

<span class="token comment"># 컨테이너 로그 확인</span>
$ kubectl logs kubia-manual
<span class="token comment"># 한 파드에 여러 컨테이너가 있는 경우</span>
$ kubectl logs kubia-manual -c kubia
</code></pre></div><br> <h2 id="레이블을-이용한-파드-구성"><a href="#레이블을-이용한-파드-구성" class="header-anchor">#</a> 레이블을 이용한 파드 구성</h2> <h3 id="레이블-소개"><a href="#레이블-소개" class="header-anchor">#</a> 레이블 소개</h3> <blockquote><p>파드와 모든 다른 쿠버네티스 리소스를 조직화할 수 있는 쿠버네티스 기능</p></blockquote> <h3 id="파드를-생성할-때-레이블-지정"><a href="#파드를-생성할-때-레이블-지정" class="header-anchor">#</a> 파드를 생성할 때 레이블 지정</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kubia<span class="token punctuation">-</span>manual
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">creation_method</span><span class="token punctuation">:</span> manual
    <span class="token key atrule">env</span><span class="token punctuation">:</span> prod
</code></pre></div><h3 id="기존-파드-레이블-수정"><a href="#기존-파드-레이블-수정" class="header-anchor">#</a> 기존 파드 레이블 수정</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>$ kubectl get po --show-labels
NAME           READY   STATUS    RESTARTS   AGE     LABELS
kubia          <span class="token number">1</span>/1     Running   <span class="token number">0</span>          7h54m   <span class="token assign-left variable">run</span><span class="token operator">=</span>kubia
kubia-manual   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          7h47m   <span class="token assign-left variable">creation_method</span><span class="token operator">=</span>manual,env<span class="token operator">=</span>prod

<span class="token comment"># -L 스위치로 지정해 각 레이블을 자체 열에 표시 가능</span>
$ kubectl get pods -L creation_method,env
NAME               READY   STATUS    RESTARTS   AGE     CREATION_METHOD   ENV
kubia              <span class="token number">1</span>/1     Running   <span class="token number">0</span>          8h
kubia-manual       <span class="token number">1</span>/1     Running   <span class="token number">0</span>          18s
kubia-manual-v2    <span class="token number">1</span>/1     Running   <span class="token number">0</span>          5s      manual            prod

<span class="token comment"># 레이블 추가, 수정 가능</span>
$ kubectl label po kubia-manual <span class="token assign-left variable">creation_method</span><span class="token operator">=</span>manual
pod/kubia-manual labeled
$ kubectl label po kubia-manual-v2 <span class="token assign-left variable">env</span><span class="token operator">=</span>debug --overwrite  <span class="token comment"># 수정시에는 --overwrite 옵션이 꼭 필요</span>
pod/kubia-manual-v2 labeled
<span class="token comment"># 변경 결과</span>
$ kubectl get pods -L creation_method,env
NAME              READY   STATUS    RESTARTS   AGE     CREATION_METHOD   ENV
kubia             <span class="token number">1</span>/1     Running   <span class="token number">0</span>          8h
kubia-manual      <span class="token number">1</span>/1     Running   <span class="token number">0</span>          7m46s   manual
kubia-manual-v2   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          7m33s   manual            debug
</code></pre></div><br> <h2 id="레이블-셀렉터를-이용한-파드-부분-집합-나열"><a href="#레이블-셀렉터를-이용한-파드-부분-집합-나열" class="header-anchor">#</a> 레이블 셀렉터를 이용한 파드 부분 집합 나열</h2> <h3 id="레이블-셀렉터"><a href="#레이블-셀렉터" class="header-anchor">#</a> 레이블 셀렉터</h3> <blockquote><p>특정 레이블로 태그된 파드의 부분 집합을 선택해 원하는 작업을 수행
특정 값과 레이블을 갖는지 여부에 따라 리소스를 필터링하는 기능</p></blockquote> <div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token comment"># 레이블 셀렉터를 이용해 파드 listing</span>
<span class="token comment"># 특정 레이블의 특정 값을 가지는 파드 확인</span>
$ kubectl get po -l <span class="token assign-left variable">creation_method</span><span class="token operator">=</span>manual
NAME              READY   STATUS    RESTARTS   AGE
kubia-manual      <span class="token number">1</span>/1     Running   <span class="token number">0</span>          5m34s
kubia-manual-v2   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          5m21s

<span class="token comment"># 특정 레이블을 가지고 있는 파드 확인</span>
$ kubectl get po -l <span class="token function">env</span>
NAME              READY   STATUS    RESTARTS   AGE
kubia-manual-v2   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          5m52s

<span class="token comment"># 특정 레이블을 가지고 있지 않은 파드 확인</span>
$ kubectl get po -l <span class="token string">'!env'</span>
NAME           READY   STATUS    RESTARTS   AGE
kubia          <span class="token number">1</span>/1     Running   <span class="token number">0</span>          8h
kubia-manual   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          7m26s

<span class="token comment"># 특정 레이블의 특정 값을 가지는 파드 제외</span>
$ kubectl get po -l creation_method<span class="token operator">!=</span>manual
NAME    READY   STATUS    RESTARTS   AGE
kubia   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          8h

<span class="token comment"># 특정 레이블의 여러 값을 가지는 파드만 확인</span>
$ kubectl get po -l <span class="token string">'env in (debug)'</span>
NAME              READY   STATUS    RESTARTS   AGE
kubia-manual-v2   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          13m

<span class="token comment"># 특정 레이블의 주어진 값을 가지지 않은 파드만 확인</span>
$ kubernetes kubectl get po -l <span class="token string">'env notin (debug)'</span>
NAME           READY   STATUS    RESTARTS   AGE
kubia          <span class="token number">1</span>/1     Running   <span class="token number">0</span>          8h
kubia-manual   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          15m
</code></pre></div><br> <h2 id="네임스페이스를-사용한-리소스-그룹화"><a href="#네임스페이스를-사용한-리소스-그룹화" class="header-anchor">#</a> 네임스페이스를 사용한 리소스 그룹화</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># yaml 파일을 이용한 네임스페이스 생성</span>
$ <span class="token function">cat</span> custom-namespace.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: custom-namespace

$ kubectl create -f custom-namespace.yaml
namespace/custom-namespace created

<span class="token comment"># kubectl을 이용한 네임스페이스 생성</span>
$ kubectl create namespace custom-namespace-kubectl
namespace/custom-namespace-kubectl created
$ namespace kubectl get ns
NAME                       STATUS   AGE
custom-namespace           Active   2m16s
custom-namespace-kubectl   Active   9s
deffault                    Active   6d7h
kube-node-lease            Active   6d7h
kube-public                Active   6d7h
kube-system                Active   6d7h
kubernetes-dashboard       Active   6d6h

<span class="token comment"># 네임스페이스에 파드 생성</span>
$ kubectl create -f kubia-manual.yaml -n custom-namespace
pod/kubia-manual created
$ kubectl get pods --namespace custom-namespace
NAME           READY   STATUS    RESTARTS   AGE
kubia-manual   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          58s
</code></pre></div><h3 id="네임스페이스가-제공하는-격리의-이해"><a href="#네임스페이스가-제공하는-격리의-이해" class="header-anchor">#</a> 네임스페이스가 제공하는 격리의 이해</h3> <blockquote><p>오브젝트를 별도 그룹으로 분리해 특정 네임스페이스 안에 속한 리소스를 대상으로 작업할 수 있게 해주지만
실행 중인 오브젝트에 대한 격리는 제공하지 않음</p></blockquote> <br> <h2 id="파드-중지와-제거"><a href="#파드-중지와-제거" class="header-anchor">#</a> 파드 중지와 제거</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>
</code></pre></div><br> <hr> <h2 id="keyword"><a href="#keyword" class="header-anchor">#</a> Keyword</h2> <ul><li>IPC ( Inter Process Communication )
<ul><li>프로세스들 사이에 서로 데이터를 주고받는 행위 또는 방법이나 경로</li> <li>리눅스 커널 영역에서 독립된 내부 프로세스간 통신을 제공</li></ul></li> <li>리눅스 네임스페이스</li> <li>UTS 네임스페이스 ( UNIX Timesharing System Namespace )
<ul><li>호스트 이름을 네임스페이스별로 격리</li></ul></li> <li>NAT ( Network Address Translation )</li> <li>ReplicationController - deprecated
<ul><li>ReplicaSet, Deployment가 대신함</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.14df79b1.js" defer></script><script src="/TIL/assets/js/2.dce8ba1c.js" defer></script><script src="/TIL/assets/js/44.db7e6df7.js" defer></script>
  </body>
</html>
