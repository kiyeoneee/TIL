# 5. μ„λΉ„μ¤: ν΄λΌμ΄μ–ΈνΈκ°€ νλ“λ¥Ό κ²€μƒ‰ν•κ³  ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•¨

- νλ“λ” μΌμ‹μ 
- μΏ λ²„λ„¤ν‹°μ¤λ” νλ“κ°€ μ‹μ‘λκΈ° λ°”λ΅ μ „μ— νλ“μ IP μ£Όμ†λ¥Ό ν• λ‹Ήν•λ―€λ΅ ν΄λΌμ΄μ–ΈνΈκ°€ λ―Έλ¦¬ μ• μ μ—†μ
- μν‰μ  μ¤μΌ€μΌλ§μΌλ΅ μΈν•΄ μ—¬λ¬ IPκ°€ μ΅΄μ¬ν•λ”λΌλ„ ν΄λΌμ΄μ–ΈνΈλ” κ°λ³„ IP λ©λ΅μ„ μƒκ΄€ν•μ§€ μ•μ•„μ•Ό ν•¨

  

## μ„λΉ„μ¤ μ†κ°

> λ™μΌν• μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” νλ“ κ·Έλ£Ήμ— μ§€μ†μ μΈ λ‹¨μΌ μ ‘μ μ„ λ§λ“¤λ ¤κ³  ν•  λ• μƒμ„±ν•λ” λ¦¬μ†μ¤
> κ° μ„λΉ„μ¤λ” μ„λΉ„μ¤κ°€ μ΅΄μ¬ν•λ” λ™μ• μ λ€ λ°”λ€μ§€ μ•λ” IP μ£Όμ†μ™€ ν¬νΈκ°€ μμ

### μ„λΉ„μ¤ μƒμ„±

```bash
$ cat kubia-svc.yaml
apiVersion: v1
kind: Service
metadata:
  name: kubia
spec:
  ports:
  - port: 80
    targetPort: 8080
  selector:
    p: kubia

$ kubectl apply -f kubia-svc.yaml
service/kubia created
$ kubectl get svc
NAME         TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
kubernetes   ClusterIP      10.96.0.1      <none>        443/TCP          12d
kubia        ClusterIP      10.97.8.195    <none>        80/TCP           8s
kubia-http   LoadBalancer   10.100.26.14   <pending>     8080:30026/TCP   7d

# μ‹¤ν–‰ μ¤‘μΈ μ»¨ν…μ΄λ„μ— μ›κ²©μΌλ΅ λ…λ Ήμ–΄ μ‹¤ν–‰
$ kubectl get pods
NAME                READY   STATUS    RESTARTS   AGE
kubia-2sf5k         1/1     Running   0          3m2s
kubia-6x2k5         1/1     Running   0          3m2s
kubia-7cfm7         1/1     Running   0          3m2s
ssd-monitor-7jll9   1/1     Running   0          82m
$ kubectl exec kubia-2sf5k -- curl -s http://10.97.8.195
You've hit kubia-6x2k5
```

#### μ„λΉ„μ¤μ μ„Έμ… μ–΄ν”Όλ‹ν‹° κµ¬μ„±

λ™μΌ ν΄λΌμ΄μ–ΈνΈλ” λ™μΌν• νλ“μ— μ”μ²­ν•κΈ° μ„ν• μ„¤μ •
μ„λΉ„μ¤μ μ„Έμ… μ–΄ν”Όλ‹ν‹° κµ¬μ…©μ΄ ν•„μ”

```bash
$ cat kubia-svc.yaml
apiVersion: v1
kind: Service
metadata:
  name: kubia
spec:
  sessionAffinity: ClientIP  # default value : NONE
  ports:
  - port: 80
    targetPort: 8080
  selector:
    app: kubia
```

#### λ™μΌν• μ„λΉ„μ¤μ—μ„ μ—¬λ¬ κ°μ ν¬νΈ λ…Έμ¶

```yaml
apiVersion: v1
kind: Service
metadata:
  name: kubia
spec:
  sessionAffinity: ClientIP
  ports:
  - name: http
    port: 80
    targetPort: 8080
  - name: https
    port: 443
    targetPort: 8443

```

#### μ΄λ¦„μ΄ μ§€μ •λ ν¬νΈ μ‚¬μ©

κ° νλ“μ ν¬νΈμ— μ΄λ¦„μ„ μ§€μ •ν•κ³  μ„λΉ„μ¤ μ¤ν™μ—μ„ μ΄λ¦„μΌλ΅ μ°Έμ΅°ν•  μλ„ μμ
μ΄λ¬ν• λ°©μ‹μ„ ν†µν•΄ **μ„λΉ„μ¤ μ¤ν™μ— λ€ν• κ³ λ ¤ μ—†μ΄ νλ“μ ν¬νΈ λ²νΈλ¥Ό λ³€κ²½μ΄ λ”μ± μ λ¦¬ν•¨**

```yaml
# νλ“ μ •μ
kind: Pod
spec:
  containers:
  - name: kubia
    ports:
    - name: http
      containerPort: 8080  # μ»¨ν…μ΄λ„ ν¬νΈ 8080μ€ httpλΌκ³  ν•¨
    - name: https
      containerPort: 8443
      
# μ„λΉ„μ¤ μ •μ
apiVersion: v1
kind: Service
spec:
  ports:
  - name: http
    port: 80
    targetPort: http
  - name: https
    port: 443
    targetPort: https
```

### μ„λΉ„μ¤ κ²€μƒ‰

#### ν™κ²½λ³€μλ¥Ό ν†µν• μ„λΉ„μ¤ κ²€μƒ‰

μ„λΉ„μ¤μ— λ€ν• ν™κ²½λ³€μλ” μ„λΉ„μ¤ μ΄λ¦„μ upper caseμ™€ λ€μ‹(-)λ¥Ό μ–Έλ”λ°”(_)λ΅ μΉν™λ ν•νƒμ μ ‘λ‘μ‚¬κ°€ λ¶™μ–΄μ„ μ„¤μ •λ¨

```bash
$ kubectl exec kubia-26sgs env
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=kubia-26sgs
KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
KUBIA_HTTP_PORT_8080_TCP_PORT=8080
KUBIA_HTTP_PORT_8080_TCP_ADDR=10.100.26.14
KUBIA_SERVICE_PORT=80  # μ„λΉ„μ¤μ ν¬νΈ
KUBIA_PORT_80_TCP_ADDR=10.97.8.195
KUBIA_PORT_443_TCP_ADDR=10.97.8.195
KUBERNETES_SERVICE_HOST=10.96.0.1
KUBIA_PORT_80_TCP=tcp://10.97.8.195:80
KUBIA_SERVICE_HOST=10.97.8.195  # μ„λΉ„μ¤μ ν΄λ¬μ¤ν„° IP
KUBIA_HTTP_PORT_8080_TCP=tcp://10.100.26.14:8080
KUBIA_PORT_443_TCP=tcp://10.97.8.195:443
KUBIA_HTTP_PORT=tcp://10.100.26.14:8080
KUBERNETES_PORT_443_TCP_PROTO=tcp
KUBIA_SERVICE_PORT_HTTP=80
KUBIA_PORT=tcp://10.97.8.195:80
KUBIA_PORT_80_TCP_PROTO=tcp
KUBERNETES_PORT=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PORT=443
KUBIA_HTTP_SERVICE_PORT=8080
KUBIA_HTTP_PORT_8080_TCP_PROTO=tcp
KUBIA_SERVICE_PORT_HTTPS=443
KUBERNETES_SERVICE_PORT=443
KUBIA_HTTP_SERVICE_HOST=10.100.26.14
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBIA_PORT_443_TCP_PROTO=tcp
KUBIA_PORT_443_TCP_PORT=443
KUBIA_PORT_80_TCP_PORT=80
...
```

#### DNSλ¥Ό ν†µν• μ„λΉ„μ¤ κ²€μƒ‰

νλ“μ— μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤μ—μ„ μν–‰λ λ¨λ“  DNS μΏΌλ¦¬λ” μ‹μ¤ν…μ—μ„ μ…€ν–‰ μ¤‘μΈ λ¨λ“  μ„λΉ„μ¤λ¥Ό μ•κ³  μλ” μΏ λ²„λ„¤ν‹°μ¤ μμ²΄ DNS μ„λ²„λ΅ μ²λ¦¬
κ° μ„λΉ„μ¤λ” λ‚΄λ¶€ DNS μ„λ²„μ—μ„ DNS ν•­λ©μ„ κ°€μ Έμ¤κ³ , μ„λΉ„μ¤ μ΄λ¦„μ„ μ•κ³  μλ” ν΄λΌμ΄μ–ΈνΈ νλ“λ” ν™κ²½λ³€μ λ€μ‹  FQDNμΌλ΅ μ•΅μ„Έμ¤

#### FQDNμ„ ν†µν• μ„λΉ„μ¤ μ—°κ²°

Fully Qualified Domain Name - λ…ν™•ν• λ„λ©”μΈ ν‘κΈ°λ²•
`μ„λΉ„μ¤μ΄λ¦„.λ„¤μ„μ¤νμ΄μ¤.λ„λ©”μΈμ ‘λ―Έμ‚¬` eg. `backend-database.default.svc.cluster.local` λ΅ ν‘κΈ°λλ” FQDNμ„ μ‚¬μ©ν•  λ• λ™μΌ ν΄λ¬μ¤ν„°, λ„¤μ„μ¤νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ©΄ μ„λΉ„μ¤λ„¤μ„λ§μΌλ΅ μ„λΉ„μ¤μ— μ—°κ²°μ΄ κ°€λ¥
ν΄λΌμ΄μ–ΈνΈλ” **ν™κ²½λ³€μμ—μ„ ν¬νΈ λ²νΈλ¥Ό μ–»μ„ μ μμ–΄μ•Ό ν•¨**

#### νλ“μ μ»¨ν…μ΄λ„ λ‚΄μ—μ„ μ…Έ μ‹¤ν–‰

```bash
$ kubectl get pods
kNAME                READY   STATUS    RESTARTS   AGE
kubia-26sgs         1/1     Running   0          53m
kubia-btqlh         1/1     Running   0          53m
kubia-h94d9         1/1     Running   0          53m
$ kubectl exec -it kubia-26sgs bash
kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead.
root@kubia-26sgs:/# curl http://kubia.default.svc.cluster.local
You've hit kubia-btqlh
root@kubia-26sgs:/#  
You've hit kubia-btqlh
root@kubia-26sgs:/# curl http://kubia
You've hit kubia-btqlh
```

#### μ„λΉ„μ¤ IPμ— ν•‘μ„ ν•  μ μ—†λ” μ΄μ 

```bash
root@kubia-lk6s8:/# ping kubia
PING kubia.default.svc.cluster.local (10.97.8.195): 56 data bytes
^C--- kubia.default.svc.cluster.local ping statistics ---
49 packets transmitted, 0 packets received, 100% packet loss
```

μ„λΉ„μ¤μ ν΄λ¬μ¤ν„° IPκ°€ κ°€μƒ IPμ΄λ―€λ΅ μ„λΉ„μ¤ ν¬νΈμ™€ κ²°ν•©λ κ²½μ°μ—λ§ μλ―Έκ°€ μμΌλ―€λ΅ pingμ€ λ¶κ°€λ¥

<br>

## ν΄λ¬μ¤ν„° μ™Έλ¶€μ— μλ” μ„λΉ„μ¤ μ—°κ²°

### μ„λΉ„μ¤ μ—”λ“ν¬μΈνΈ μ†κ°

μ„λΉ„μ¤λ” νλ“μ— μ§μ ‘ μ—°κ²°λμ§€ μ•κ³  μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤(μ„λΉ„μ¤λ΅ λ…Έμ¶λλ” νλ“μ IP μ£Όμ†μ™€ ν¬νΈ λ©λ΅)κ°€ μ‚¬μ΄μ— μμ

```bash
$ kubectl describe svc kubia
Name:              kubia
Namespace:         default
Labels:            <none>
Annotations:       <none>
Selector:          app=kubia  # μ—”λ“ν¬μΈνΈ λ©λ΅μ„ λ§λ“λ”λ° μ‚¬μ©λλ” νλ“ μ…€λ ‰ν„°
Type:              ClusterIP
IP Families:       <none>
IP:                10.97.8.195
IPs:               10.97.8.195
Port:              <unset>  80/TCP
TargetPort:        8080/TCP
Endpoints:         172.17.0.6:8080,172.17.0.8:8080,172.17.0.9:8080  # μ„λΉ„μ¤μ μ—”λ“ν¬μΈνΈλ¥Ό λ‚νƒ€λ‚΄λ” νλ“ IPμ™€ νλ“ λ©λ΅
Session Affinity:  None
Events:            <none>

# μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤λ„ λ‹¤λ¥Έ λ¦¬μ†μ¤μ™€ μ μ‚¬ν•λ―€λ΅ get λ…λ Ήμ–΄λ¥Ό ν†µν•΄ μ΅°ν κ°€λ¥
$  kubectl get endpoints kubia
NAME    ENDPOINTS                                         AGE
kubia   172.17.0.6:8080,172.17.0.8:8080,172.17.0.9:8080   44h
```

ν΄λΌμ΄μ–ΈνΈ μ„λΉ„μ¤ μ—°κ²° -> μ„λΉ„μ¤ ν”„λ΅μ‹λ” μ΄λ“¤ μ¤‘ ν•λ‚μ IPμ™€ ν¬νΈ μμ„ μ„ νƒ -> λ“¤μ–΄μ¨ μ—°κ²°μ„ λ€μƒ νλ“μ μμ‹  λ€κΈ° μ„λ²„λ΅ μ „λ‹¬

### μ„λΉ„μ¤ μ—”λ“ν¬μΈνΈ μλ™ κµ¬μ„±

#### μ…€λ ‰ν„° μ—†μ΄ μ„λΉ„μ¤ μƒμ„±

μλ™μΌλ΅ κ΄€λ¦¬λλ” μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•΄ μ„λΉ„μ¤λ¥Ό λ§λ“¤λ ¤λ©΄ μ„λΉ„μ¤μ™€ μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤ λ¥Ό λ¨λ‘ λ§λ“¤μ–΄μ•Ό ν•¨

```bash
$ cat external-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: external-service  # μ„λΉ„μ¤ μ΄λ¦„ == μ—”λ“ν¬μΈνΈ μ¤λΈμ 
spec:
  ports:
  - port: 80  # ν¬νΈ 80μΌλ΅ λ“¤μ–΄μ¤λ” μ—°κ²°μ„ ν—μ©
```

#### μ…€λ ‰ν„°κ°€ μ—†λ” μ„λΉ„μ¤μ— κ΄€ν• μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤ μƒμ„±

```bash
$  cat external-service-endpoints.yaml
apiVersion: v1
kind: Endpoints
metadata:
  name: external-service  # μ„λΉ„μ¤ μ΄λ¦„κ³Ό λ™μΌν•΄μ•Ό ν•¨
subset:
  - addresses:  # μ„λΉ„μ¤κ°€ μ—°κ²°μ„ μ „λ‹¬ν•  μ—”λ“ν¬μΈνΈμ IP
    - ip: 11.11.11.11
    - ip: 22.22.22.22
    ports:  # μ—”λ“ν¬μΈνΈμ λ€μƒ ν¬νΈ
      port: 80
```

### μ™Έλ¶€ μ„λΉ„μ¤λ¥Ό μ„ν• λ³„μΉ­ μƒμ„±

#### ExternalName μ„λΉ„μ¤ μƒμ„±

ExternalNameμ„ μ΄μ©ν•λ©΄ FQDNμ„ μ‚¬μ©ν•μ§€ μ•μ•„ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•λ” νλ“μ—μ„ μ‹¤μ  μ„λΉ„μ¤ μ΄λ¦„κ³Ό μ„μΉκ°€ μ¨κ²¨μ§€λ” ν¨κ³Όκ°€ λ‚νƒ€λ‚¨
κ·Έλμ„ externalName μ†μ„±μ„ λ³€κ²½ν•κ±°λ‚ μ ν•μ„ λ‹¤μ‹ ClusterIPλ΅ λ³€κ²½ν•κ³  μ„λΉ„μ¤ μ¤ν™μ„ λ§λ“¤μ–΄ λ‚μ¤‘μ— μ„λΉ„μ¤ μ¤ν™μ„ μμ •ν•λ©΄ λ‹¤λ¥Έ μ„λΉ„μ¤λ¥Ό κ°€λ¦¬ν‚¬ μ μμ

```bash
$ cat external-service-externalname.yaml
apiVersion: v1
kind: Service
metadata:
  name: external-service
spec:
  type: ExternalName  # μ„λΉ„μ¤ μ ν•μ΄ ExternalNameμΌλ΅ μ„¤μ •
  externalName: someapi.somecompany.com
  ports:
  - port: 80

$ kubectl create -f external-service-externalname.yaml
service/external-service created
$ kubectl describe svc external-service
Name:              external-service
Namespace:         default
Labels:            <none>
Annotations:       <none>
Selector:          <none>
Type:              ExternalName
IP Families:       <none>
IP:
IPs:               <none>
External Name:     someapi.somecompany.com
Port:              <unset>  80/TCP
TargetPort:        80/TCP
Endpoints:         <none>
Session Affinity:  None
Events:            <none>
```

<br>

## μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈμ— μ„λΉ„μ¤ λ…Έμ¶

ν΄λ¬μ¤ν„° λ‚΄λ¶€μ—μ„ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•λ”κ² μ•„λ‹ μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈκ°€ μ•΅μ„Έμ¤ν•  μ μκ² ν•κ³  μ‹¶μ

- **λ…Έλ“ν¬νΈλ΅ μ„λΉ„μ¤ μ ν• μ„¤μ •** : κ° ν΄λ¬μ¤ν„° λ…Έλ“ μμ²΄μ—μ„ ν¬νΈλ¥Ό μ—΄κ³  ν•΄λ‹Ή ν¬νΈλ΅ μμ‹ λ νΈλν”½μ„ μ„λΉ„μ¤λ΅ μ „λ‹¬
- **μ„λΉ„μ¤ μ ν•μ„ λ…Έλ“ν¬νΈ μ ν•μ ν™•μ¥μΈ λ΅λ“λ°Έλ°μ„λ΅ μ„¤μ •** : ν΄λΌμ°λ“ μΈν”„λΌμ—μ„ ν”„λ΅λΉ„μ €λ‹λ μ „μ© λ΅λ“λ°Έλ°μ„λ΅ μ„λΉ„μ¤μ— μ•΅μ„Έμ¤, λ΅λ“λ°Έλ°μ„λ” νΈλν”½μ„ λ¨λ“  λ…Έλ“μ λ…Έλ“ν¬νΈλ΅ μ „λ‹¬
- **λ‹¨μΌ IP μ£Όμ†λ΅ μ—¬λ¬ μ„λΉ„μ¤λ¥Ό λ…Έμ¶ν•λ” μΈκ·Έλ μ¤ λ¦¬μ†μ¤ λ§λ“¤κΈ°** : HTTP λ λ²¨μ—μ„ μ‘λ™

### λ…Έλ“ν¬νΈ μ„λΉ„μ¤ μ‚¬μ©

λ…Έλ“ν¬νΈ μ„λΉ„μ¤ μ‚¬μ©μ‹ μΏ λ²„λ„¤ν‹°μ¤λ” λ¨λ“  λ…Έλ“μ— νΉμ • ν¬νΈλ¥Ό ν• λ‹Ή, μ„λΉ„μ¤λ¥Ό κµ¬μ„±ν•λ” νλ“λ΅ λ“¤μ–΄μ¤λ” μ—°κ²°μ„ μ „λ‹¬

#### λ…Έλ“ν¬νΈ μƒμ„±

```bash
$ cat kubia-svc-nodeport.yaml
apiVersion: v1
kind: Service
metadata:
  name: kubia-nodeport
spec:
  type: NodePort  # μ„λΉ„μ¤ μ ν• : nodeport
  ports:
  - port: 80  # μ„λΉ„μ¤ λ‚΄λ¶€ ν΄λ¬μ¤ν„° IPμ ν¬νΈ
    targetPort: 8080  # μ„λΉ„μ¤ λ€μƒ νλ“μ ν¬νΈ
    nodePort: 30123  # κ° ν΄λ¬μ¤ν„° λ…Έλ“ 30123 ν¬νΈλ΅ μ„λΉ„μ¤μ— μ•΅μ„Έμ¤, μƒλµ κ°€λ¥
  selector:
    app: kubia

$ kubectl create -f kubia-svc-nodeport.yaml
service/kubia-nodeport created

```

#### λ…Έλ“ν¬νΈ μ„λΉ„μ¤ ν™•μΈ

**column**

- EXTERNAL-IP
  - \<nodes\> : ν΄λ¬μ¤ν„° λ…Έλ“μ IP μ£Όμ†λ΅ μ„λΉ„μ¤μ— μ•΅μ„Έμ¤ κ°€λ¥
- PORT(S)
  - 80:30123/TCP : ν΄λ¬μ¤ν„°λ‚΄λ¶€ν¬νΈ:λ…ΈνΈν¬νΈ (10.99.119.102:80, <nλ²μ§Έ λ…Έλ“μ IP>:30123 μΌλ΅ μ ‘μ† κ°€λ¥)

```bash
$ kubectl get svc kubia-nodeport
NAME             TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
kubia-nodeport   NodePort   10.99.119.102   <none>        80:30123/TCP   6m22s
```

#### μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈκ°€ λ…Έλ“ν¬νΈ μ„λΉ„μ¤μ— μ•΅μ„Έμ¤ν•  μ μλ„λ΅ λ°©ν™”λ²½ κ·μΉ™ λ³€κ²½

```bash
$ kubectl get svc kubia-nodeport
NAME             TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
kubia-nodeport   NodePort   10.99.119.102   <none>        80:30123/TCP   6m22s
$ minikube service kubia-nodeport
|-----------|----------------|-------------|---------------------------|
| NAMESPACE |      NAME      | TARGET PORT |            URL            |
|-----------|----------------|-------------|---------------------------|
| default   | kubia-nodeport |          80 | http://192.168.49.2:30123 |
|-----------|----------------|-------------|---------------------------|
πƒ  Starting tunnel for service kubia-nodeport.
|-----------|----------------|-------------|------------------------|
| NAMESPACE |      NAME      | TARGET PORT |          URL           |
|-----------|----------------|-------------|------------------------|
| default   | kubia-nodeport |             | http://127.0.0.1:61538 |
|-----------|----------------|-------------|------------------------|
π‰  Opening service default/kubia-nodeport in default browser...
β—  Because you are using a Docker driver on darwin, the terminal needs to be open to run it.

$ curl http://127.0.0.1:61538/
You've hit kubia-fg9rc
$ curl http://127.0.0.1:61538/
You've hit kubia-w9nnl
$ curl http://127.0.0.1:61538/
You've hit kubia-52n7v
```

### μ™Έλ¶€ λ΅λ“λ°Έλ°μ„λ΅ μ„λΉ„μ¤ λ…Έμ¶

λ΅λ“λ°Έλ°μ„λ” κ³µκ°μ μΌλ΅ μ•΅μ„Έμ¤ κ°€λ¥ν• κ³ μ ν• IP μ£Όμ†λ¥Ό κ°€μ§€λ©° λ¨λ“  μ—°κ²°μ„ μ„λΉ„μ¤λ΅ μ „λ‹¬
λ”°λΌμ„ λ΅λ“λ°Έλ°μ„μ IP μ£Όμ†λ΅ μ„λΉ„μ¤μ— μ•΅μ„Έμ¤
μΏ λ²„λ„¤ν‹°μ¤κ°€ λ΅λ“λ°Έλ°μ„ μ„λΉ„μ¤λ¥Ό μ§€μ›ν•μ§€ μ•λ” ν™κ²½μ—μ„ μ‹¤ν–‰μ¤‘μΈ κ²½μ° λ΅λ“λ°Έλ°μ„λ” ν”„λ΅λΉ„μ €λ‹λμ§€ μ•μ§€λ§ μ„λΉ„μ¤λ” μ—¬μ „ν λ…Έλ“ν¬νΈ μ„λΉ„μ¤μ²λΌ μ‘λ™

```bash
$ cat kubia-svc-loadbalancer.yaml
apiVersion: v1
kind: Service
metadata:
  name: kubia-loadbalancer
spec:
  type: LoadBalancer
  ports:
  - port: 80
    targetPort: 8080
  selector:
    app: kubia

$ kubectl create -f kubia-svc-loadbalancer.yaml
service/kubia-loadbalancer created
$ kubectl get svc kubia-loadbalancer
NAME                 TYPE           CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE
kubia-loadbalancer   LoadBalancer   10.106.29.9   <pending>     80:30135/TCP   10m
```

> https://stackoverflow.com/a/44112285
> minikubeλ” λ‹¤λ¥Έ ν΄λΌμ°λ“ μ„λΉ„μ¤μ™€ κ°™μ΄ λ΅λ“λ°Έλ°μ„ ν”„λ΅λΉ„μ €λ‹μ΄ λμ§€ μ•μ•„ κ³„μ† pending μƒνƒμ— λ¨Έλ¬΄λ¦„
> μ„μ λ…Έλ“ν¬νΈλ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ„ ν†µν•΄ λ΅λ“λ°Έλ°μ‹± κ°€λ¥



<br>

---

## κ¶κΈμ“°

- CNAME DNS λ μ½”λ“