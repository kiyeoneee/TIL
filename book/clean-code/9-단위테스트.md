# 9. 단위 테스트

## 목차

1. [TDD 법칙 세 가지](#TDD-법칙-세-가지)
2. [깨끗한 테스트 코드 유지하기](#깨끗한-테스트-코드-유지하기)
3. [깨끗한 테스트 코드](#깨끗한-테스트-코드)
4. [테스트 당 assert 하나](#테스트-당-assert-하나)
5. [F.I.R.S.T](#F.I.R.S.T)

---

패키지를 사거나, 오픈소스를 사용하는 등 외부의 코드와 팀의 코드를 함께 사용할 때 소프트웨어 경계를 깔끔하게 처리하여 통합하는 방법에 대하여 이야기 한다.

### TDD 법칙 세 가지

1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

<br>

### 깨끗한 테스트 코드 유지하기

깨끗하지 않은 테스트 코드는 유지 보수에 많은 비용이 필요하게 되고, 테스트 코드가 없으면 프로덕션 코드의 결함율이 높아지게 된다.  
테스트 코드는 **유연성, 유지보수성, 재사용성**을 제공해야 한다.

<br>

### 깨끗한 테스트 코드

깨끗한 테스트 코드는 명료성, 단순성, 풍부한 표현을 바탕으로 한 **가독성**이 필수이다.

<br>

###  테스트 당 assert 하나

assert 하나만을 사용하기 위해 아래와 같은 방법을 사용 할 수 있다.

* 테스트를 쪼개서 assert를 분리
* Template Method 패턴을 사용해 중복을 제거
* @Before 함수에 given/when 부분을 분리

테스트 함수 하나는 개념 하나만 테스트 해야 한다!

<br>

### F.I.R.S.T

* Fast
* Independent
* Repeatable  
  **네트워크가 없는 환경**에서도 실행 가능해야 함
* Self-Validating
* Timely  
  테스트 코드 작성 -> 실제 코드 작성

<br>

---

## 참고

### BUILD-OPERATE-CHECK 패턴

### TEMPLATE METHOD 패턴

given-when-then 관례

