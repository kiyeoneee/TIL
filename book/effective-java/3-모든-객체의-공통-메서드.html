<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3장. 모든 객체의 공통 메서드 | Today kiyeoneee Learned</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="What kiyeoneee learned everyday">
    <link rel="preload" href="/TIL/assets/css/0.styles.25cf7e1a.css" as="style"><link rel="preload" href="/TIL/assets/js/app.14df79b1.js" as="script"><link rel="preload" href="/TIL/assets/js/2.dce8ba1c.js" as="script"><link rel="preload" href="/TIL/assets/js/34.a72ae435.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.4f5ca765.js"><link rel="prefetch" href="/TIL/assets/js/11.8c375806.js"><link rel="prefetch" href="/TIL/assets/js/12.b481e600.js"><link rel="prefetch" href="/TIL/assets/js/13.f20868f4.js"><link rel="prefetch" href="/TIL/assets/js/14.41e7de9c.js"><link rel="prefetch" href="/TIL/assets/js/15.0e8a7359.js"><link rel="prefetch" href="/TIL/assets/js/16.203af499.js"><link rel="prefetch" href="/TIL/assets/js/17.063a3e76.js"><link rel="prefetch" href="/TIL/assets/js/18.97a8642a.js"><link rel="prefetch" href="/TIL/assets/js/19.402f271c.js"><link rel="prefetch" href="/TIL/assets/js/20.7018a74a.js"><link rel="prefetch" href="/TIL/assets/js/21.374cbc95.js"><link rel="prefetch" href="/TIL/assets/js/22.b10e5b32.js"><link rel="prefetch" href="/TIL/assets/js/23.8c73a2d0.js"><link rel="prefetch" href="/TIL/assets/js/24.a6b3b327.js"><link rel="prefetch" href="/TIL/assets/js/25.67310368.js"><link rel="prefetch" href="/TIL/assets/js/26.0cc3dc23.js"><link rel="prefetch" href="/TIL/assets/js/27.37dbddf6.js"><link rel="prefetch" href="/TIL/assets/js/28.25bf1a71.js"><link rel="prefetch" href="/TIL/assets/js/29.5178dc1b.js"><link rel="prefetch" href="/TIL/assets/js/3.54a487f9.js"><link rel="prefetch" href="/TIL/assets/js/30.900f1a49.js"><link rel="prefetch" href="/TIL/assets/js/31.5acadd72.js"><link rel="prefetch" href="/TIL/assets/js/32.32847f7d.js"><link rel="prefetch" href="/TIL/assets/js/33.d04d65df.js"><link rel="prefetch" href="/TIL/assets/js/35.161fd7dc.js"><link rel="prefetch" href="/TIL/assets/js/36.754771e8.js"><link rel="prefetch" href="/TIL/assets/js/37.e070245d.js"><link rel="prefetch" href="/TIL/assets/js/38.06a44a05.js"><link rel="prefetch" href="/TIL/assets/js/39.275c570e.js"><link rel="prefetch" href="/TIL/assets/js/4.30442eb7.js"><link rel="prefetch" href="/TIL/assets/js/40.d597ea7b.js"><link rel="prefetch" href="/TIL/assets/js/41.245be6d0.js"><link rel="prefetch" href="/TIL/assets/js/42.12baffdd.js"><link rel="prefetch" href="/TIL/assets/js/43.86f1dc16.js"><link rel="prefetch" href="/TIL/assets/js/44.db7e6df7.js"><link rel="prefetch" href="/TIL/assets/js/45.203b2bc7.js"><link rel="prefetch" href="/TIL/assets/js/46.e9df3ac1.js"><link rel="prefetch" href="/TIL/assets/js/47.deadd21a.js"><link rel="prefetch" href="/TIL/assets/js/48.b70a2df0.js"><link rel="prefetch" href="/TIL/assets/js/49.1a4d181d.js"><link rel="prefetch" href="/TIL/assets/js/5.a34725ae.js"><link rel="prefetch" href="/TIL/assets/js/50.fa9d44cb.js"><link rel="prefetch" href="/TIL/assets/js/51.3202ad00.js"><link rel="prefetch" href="/TIL/assets/js/52.a6b1fe41.js"><link rel="prefetch" href="/TIL/assets/js/53.dd35c8d1.js"><link rel="prefetch" href="/TIL/assets/js/54.44b419f9.js"><link rel="prefetch" href="/TIL/assets/js/55.e2e2942a.js"><link rel="prefetch" href="/TIL/assets/js/56.fc1b4e3e.js"><link rel="prefetch" href="/TIL/assets/js/57.3aad11c0.js"><link rel="prefetch" href="/TIL/assets/js/58.fcd4daa5.js"><link rel="prefetch" href="/TIL/assets/js/59.d043979e.js"><link rel="prefetch" href="/TIL/assets/js/6.a0757fc0.js"><link rel="prefetch" href="/TIL/assets/js/60.58261ba7.js"><link rel="prefetch" href="/TIL/assets/js/61.3e59b22b.js"><link rel="prefetch" href="/TIL/assets/js/62.b1ac5ae1.js"><link rel="prefetch" href="/TIL/assets/js/63.01eebdae.js"><link rel="prefetch" href="/TIL/assets/js/64.5c3d4686.js"><link rel="prefetch" href="/TIL/assets/js/65.1c655cd7.js"><link rel="prefetch" href="/TIL/assets/js/7.112c04ff.js"><link rel="prefetch" href="/TIL/assets/js/8.130adf09.js"><link rel="prefetch" href="/TIL/assets/js/9.b12d813d.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.25cf7e1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today kiyeoneee Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/kiyeoneee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kyeoneee.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tech Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/kiyeoneee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kyeoneee.tistory.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Tech Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Books</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/TIL/book/clean-code" class="sidebar-heading clickable open"><span>Clean Code</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/book/clean-code/2-의미있는-이름.html" class="sidebar-link">2장. 의미있는 이름</a></li><li><a href="/TIL/book/clean-code/3-함수.html" class="sidebar-link">3장. 함수</a></li><li><a href="/TIL/book/clean-code/4-주석.html" class="sidebar-link">4장. 주석</a></li><li><a href="/TIL/book/clean-code/5-형식-맞추기.html" class="sidebar-link">5장. 형식 맞추기</a></li><li><a href="/TIL/book/clean-code/6-객체와-자료-구조.html" class="sidebar-link">6장. 객체와 자료 구조</a></li><li><a href="/TIL/book/clean-code/7-오류-처리.html" class="sidebar-link">7장. 오류 처리</a></li><li><a href="/TIL/book/clean-code/8-경계.html" class="sidebar-link">8장. 경계</a></li><li><a href="/TIL/book/clean-code/9-단위테스트.html" class="sidebar-link">9장. 단위 테스트</a></li><li><a href="/TIL/book/clean-code/10-클래스.html" class="sidebar-link">10장. 클래스</a></li><li><a href="/TIL/book/clean-code/11-시스템.html" class="sidebar-link">11장. 시스템</a></li><li><a href="/TIL/book/clean-code/12-창발성.html" class="sidebar-link">12장. 창발성</a></li><li><a href="/TIL/book/clean-code/14-점진적-개선.html" class="sidebar-link">14장. 점진적 개선</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_3장-모든-객체의-공통-메서드"><a href="#_3장-모든-객체의-공통-메서드" class="header-anchor">#</a> 3장. 모든 객체의 공통 메서드</h1> <h2 id="목차"><a href="#목차" class="header-anchor">#</a> 목차</h2> <ul><li><a href="#Item-10-equals%EB%8A%94-%EC%9D%BC%EB%B0%98-%EA%B7%9C%EC%95%BD%EC%9D%84-%EC%A7%80%EC%BC%9C-%EC%9E%AC%EC%A0%95%EC%9D%98%ED%95%98%EB%9D%BC">Item 10. equals는 일반 규약을 지켜 재정의하라</a></li> <li><a href="#Item-11-equals%EB%A5%BC-%EC%9E%AC%EC%A0%95%EC%9D%98%ED%95%98%EB%A0%A4%EA%B1%B0%EB%93%A0-hashCode%EB%8F%84-%EC%9E%AC%EC%A0%95%EC%9D%98%ED%95%98%EB%9D%BC">Item 11. equals를 재정의하려거든 hashCode도 재정의하라</a></li> <li><a href="#Item-12-toString%EC%9D%84-%ED%95%AD%EC%83%81-%EC%9E%AC%EC%A0%95%EC%9D%98-%ED%95%98%EB%9D%BC">Item 12. toString을 항상 재정의 하라</a></li> <li><a href="#Item-13-clone-%EC%9E%AC%EC%A0%95%EC%9D%98%EB%8A%94-%EC%A3%BC%EC%9D%98%ED%95%B4%EC%84%9C-%EC%A7%84%ED%96%89%ED%95%98%EB%9D%BC">Item 13. clone 재정의는 주의해서 진행하라</a></li> <li><a href="#Item-14-Comparable%EC%9D%84-%EA%B5%AC%ED%98%84%ED%95%A0%EC%A7%80-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC">Item 14. Comparable을 구현할지 고려하라</a></li> <li><a href="#Additional-Keyword">Additional Keyword</a></li></ul> <hr> <blockquote><p>Object final이 아닌 메서드(equals, hashCode, toString, clone, finalize)는 일반 규약에 맞게 재정의 됨을 염두에 두고 설계되었음<br>
Object를 상속하는 클래스, 즉 모든 클래스는 위 메서드를 재정의 해야 함</p></blockquote> <br> <h2 id="item-10-equals는-일반-규약을-지켜-재정의하라"><a href="#item-10-equals는-일반-규약을-지켜-재정의하라" class="header-anchor">#</a> Item 10. equals는 일반 규약을 지켜 재정의하라</h2> <p><strong>요약!</strong> equals는 꼭 필요한 경우가 아니면 재정의를 피하여 의도치 않은 문제를 일으키지 않도록 하자</p> <ul><li>equals 메서드는 아래의 상황일 경우 재정의 하지 않음
<ul><li>각 인스턴스가 본질적으로 고유 : 단순히 값이 아닌 고유한 동작 개체일 경우 (eg. Thread, Enum)</li> <li>논리적 동치성을 검사할 일이 없는 경우</li> <li>상위 클래스에서 재정의한 equals를 따를 경우</li> <li>클래스가 private/package-private이고 equals 메서드를 호출할 일이 없는 경우</li></ul></li> <li>equals를 재정의해야 할 때
<ul><li>논리적 동치성을 확인해야 하는데, 상위 클래스의 equals가 이를 포함하지 않는 경우</li></ul></li> <li>구체 클래스를 확장해 새로운 값을 추가하면서 equals 규약을 만족시킬 방법은 존재하지 않음</li> <li>equals 재정의 일반 규약
<ul><li>반사성</li> <li>대칭성</li> <li>추이성
<ul><li>구체 클래스를 확장해 새로운 값을 추가하면서 equals 규약을 만족시킬 방법은 존재하지 않으므로 유의해야 함</li></ul></li> <li>일관성
<ul><li>자원이 일관성을 띄지 않으면 equals는 일관성을 유지하기 어려움</li> <li>메모리에 존재하는 객체만을 사용한 결정적 계산만 수행</li></ul></li> <li>null-아님
<ul><li>건네받은 객체를 가장 먼저 instanceof 연산자로 검사 (명시적 null check를 피하자)</li></ul></li></ul></li> <li>equals 메서드 구현 단계
<ol><li>== 연산자로 자기 자신의 참조인지 확인</li> <li>instanceof 연산자로 타입 확인</li> <li>입력을 올바른 타입으로 형변환</li> <li>모든 핵심 필드들의 일치 여부 확인</li></ol></li> <li>equals를 재정의할 땐 hashCode도 반드시 재정의</li></ul> <br> <h2 id="item-11-equals를-재정의하려거든-hashcode도-재정의하라"><a href="#item-11-equals를-재정의하려거든-hashcode도-재정의하라" class="header-anchor">#</a> Item 11. equals를 재정의하려거든 hashCode도 재정의하라</h2> <ul><li>equals(Object)가 두 객체를 같다고 판단했다면, 두 객체의 hashCode는 똑같은 값을 반환</li> <li>좋은 해시 함수라면 서로 다른 인스턴스에 다른 해시코드를 반환</li></ul> <br> <h2 id="item-12-tostring을-항상-재정의-하라"><a href="#item-12-tostring을-항상-재정의-하라" class="header-anchor">#</a> Item 12. toString을 항상 재정의 하라</h2> <br> <h2 id="item-13-clone-재정의는-주의해서-진행하라"><a href="#item-13-clone-재정의는-주의해서-진행하라" class="header-anchor">#</a> Item 13. clone 재정의는 주의해서 진행하라</h2> <ul><li><p>clone 메서드의 일반 규약</p> <blockquote><p>**'복사'**의 정확한 뜻은 그 객체를 구현한 클래스에 따라 다르지만 일반적인 의도는 갖추자</p> <ul><li>x.clone != x</li> <li>x.clone.getClass() = x.getClass()</li></ul> <p>일반적으로 참이지만 필수는 아닌 조건</p> <ul><li>x.clone().equal(x)</li></ul> <p>반환된 객체와 원본 객체는 독립적이어야 함</p></blockquote></li> <li><p>원본 객체에 아무런 해를 끼치지 않는 동시에 복제된 객체의 불변식을 보장해야 함</p> <ul><li>가변 객체의 복제 시 유의</li></ul></li> <li><p>Cloneable을 구현한 스레드 안전 클래스를 작성할 떄는 clone 메서드 역시 적절히 동기화해줘야 함</p></li> <li><p>Cloneable을 구현한 클래스를 확장한다면 clone을 잘 작동하도록 구현하거나 변환 생성자, 변환 팩터리를 통해 객체 복사 방식을 제공하는 방법이 있음</p></li></ul> <br> <h2 id="item-14-comparable을-구현할지-고려하라"><a href="#item-14-comparable을-구현할지-고려하라" class="header-anchor">#</a> Item 14. Comparable을 구현할지 고려하라</h2> <ul><li><p>compareTo 메서드의 일반 규약</p> <blockquote><ul><li>반환값
<ul><li>this &lt; source : 음의 정수 ( -1 )</li> <li>this == source : 0</li> <li>this &gt; souce : 양의 정수 ( 1 )</li></ul></li> <li>sgn(x.compareTo(y)) == - sgn(y.compareTo(x))</li> <li>추이성 보장 (a &gt; b &amp;&amp; b &gt; c 이면 a &gt; c, a == b 이면 a == z, b == z)</li> <li>필수는 아니지만 권장 (x.compareTo(y) == 0) == x.equals(y)<br>
위 규약을 지키지 않을 시 클래스의 순서와 equals 메서드가 일관되지 않음을 명시할 것</li></ul></blockquote></li> <li><p>comparable을 구현하지 않은 필드나 표준이 아닌 순서로 비교해야 한다면 Comparator를 대신 사용할 것</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">CaseInsensitiveString</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CaseInsensitiveString</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token comment">// Comparable&lt;T&gt; </span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">CaseInsensitiveString</span> cis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span>CASE_INSENSITIVE_ORDER<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> cis<span class="token punctuation">.</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>클래스에 핵심 필드가 여러 개라면 핵심적인 필드부터 비교</p> <ul><li>핵심 필드부터 순차적으로 비교하다가 0이 아닌 결과가 나오는 경우 해당 결과 반환</li></ul></li> <li><p>Java 7 이후로는 박싱된 기본 타입 비교는 &gt;, &lt; 비교연산자를 지양하고 클래스들에 추가된 compare을 사용</p></li></ul> <br> <hr> <h2 id="additional-keyword"><a href="#additional-keyword" class="header-anchor">#</a> Additional Keyword</h2> <h3 id="item-13"><a href="#item-13" class="header-anchor">#</a> Item 13</h3> <ul><li>공변 반환 타이핑</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.14df79b1.js" defer></script><script src="/TIL/assets/js/2.dce8ba1c.js" defer></script><script src="/TIL/assets/js/34.a72ae435.js" defer></script>
  </body>
</html>
